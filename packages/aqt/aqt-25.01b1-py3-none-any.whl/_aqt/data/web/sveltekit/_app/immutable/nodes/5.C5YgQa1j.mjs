var kn=Object.defineProperty;var Pn=(s,e,r)=>e in s?kn(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var ie=(s,e,r)=>Pn(s,typeof e!="symbol"?e+"":e,r);import{L as bn,M as xn,N as Sn,O as On,P as An,s as rt,Q as Je,S as Ue,T as je,U as Yt,V as Vs,W as rs,X as Pt,Y as Hs,Z as bt,_ as Rn,$ as Tn,a0 as Kt,a1 as In,a2 as Dn,a3 as Ln,a4 as En,a5 as Mn,a6 as Nn,a7 as Fn}from"../chunks/backend.SD9iRJjK.mjs";import{b as Vn,e as Hn,f as Bn,a as zn}from"../chunks/utils.DAG7PM6V.mjs";import{s as h,b4 as pr,g as a,C as mr,B as P,Z as At,j as jn,b5 as Gn,p as pe,aH as se,b as me,Y as Wn,W as is,X as qn,J as Q,M as $,K as E,t as R,n as ee,l as ce,a as Fe,m as V,L as Ye,a$ as ke,aC as le,a0 as Un}from"../chunks/runtime.DAfjif0p.mjs";import{w as Ae,g as Oe,d as Qn,r as hr,a as Yn}from"../chunks/index.BHlJkaci.mjs";import{c as Lt}from"../chunks/cloneDeep.UMMsSD_w.mjs";import{b as ls,i as Bs,a as Kn,S as Xn}from"../chunks/Select.DrhGUA3y.mjs";import{e as ze,a as g,b as J,t as X}from"../chunks/disclose-version.C34ntcg3.mjs";import{i as he}from"../chunks/legacy.CQjiHReU.mjs";import{b as St}from"../chunks/this.BUkeorvg.mjs";import{p as H,a as Pe,s as yr}from"../chunks/props.BsiIqcc_.mjs";import{s as Jn,c as Cr,o as us,a as Zn}from"../chunks/index-client.CsLEDI0D.mjs";import{dR as wr,u as He,dS as ns,at as tt,dT as ea,dU as ta,t as ht,dV as cs,dW as _r,dX as sa,dY as zs,dZ as ra,d_ as js,d$ as na,e0 as aa,e1 as oa,e2 as ia,e3 as la,e4 as ua,e5 as ca,e6 as da,e7 as fa,e8 as ga,e9 as va,ea as $a,eb as pa,ec as Gs,ed as ma,ee as ha,ef as ya,eg as Ca,eh as Ws,ei as wa,ej as _a,ek as ka,el as Pa,em as ba,en as xa,eo as Sa,ep as Oa,eq as Aa,er as Ra,es as kr,et as Ta,eu as Ia,ev as Da,ew as La,ex as Ea,ey as Ma,ez as Na,eA as Fa,eB as Va,eC as Ha,eD as Ba,eE as za,eF as ja,eG as Ga,eH as Wa,eI as qa,eJ as Ua,eK as Qa,eL as Ya,eM as Ka,eN as Xa,eO as Ja,eP as Za,eQ as eo,eR as to,eS as so,eT as ro,eU as no,eV as ao,eW as oo,eX as io,eY as lo,eZ as uo,e_ as co,e$ as fo,f0 as go,f1 as vo,f2 as qs,f3 as $o,f4 as po,f5 as mo,f6 as ho,f7 as yo,f8 as Co,f9 as wo,fa as Us,fb as _o,fc as ko,fd as Po,fe as bo,ff as xo,fg as Pr,fh as br,fi as xr,fj as So,fk as Oo,fl as Ao,fm as Ro,fn as To,q as mt,fo as Io,fp as Do,fq as Lo,fr as Eo,fs as Mo,ft as Et,fu as Qs,fv as Ys,fw as Sr,fx as No,fy as Or,fz as Fo,fA as Vo,fB as Ho,fC as Bo,b3 as lt,fD as Ks,fE as zo,fF as jo,fG as Go,fH as Wo,fI as qo,fJ as Uo,fK as Qo,fL as Yo,fM as Ko,fN as Xo,fO as Jo,fP as Xs,fQ as Zo,fR as ei,fS as ti,ci as si,cg as ri,cw as Ar,fT as ni,cN as ai,cj as oi,fU as Xt,fV as ii,fW as li,fX as ui,fY as ci,fZ as Rr,f_ as Tr,f$ as Jt,g0 as di,g1 as fi,g2 as Ir,g3 as Js,g4 as gi,g5 as vi,g6 as $i,g7 as pi,g8 as mi,g9 as hi,ga as yi,dq as Ci,gb as wi,gc as _i,gd as ki,ge as Pi,gf as bi,gg as Dr,gh as xi,gi as Si,gj as Oi,gk as Ai,gl as Ri,gm as Ti,gn as Ii,go as Di,T as Li,gp as Ei,gq as Mi,gr as Ni,gs as Fi,gt as Vi,gu as Hi,gv as Bi,gw as zi,gx as ji,gy as Lr,gz as Zs,gA as Gi,gB as Wi,gC as qi,gD as Ui,gE as Qi,gF as Yi,gG as Ki,gH as Xi,gI as Ji,gJ as Zi,gK as el,gL as er,gM as tl,gN as sl,gO as rl,gP as nl,gQ as al,gR as ol,gS as il,gT as tr,gU as ll,gV as ul,gW as cl,gX as dl,gY as fl,gZ as gl,g_ as vl,g$ as $l,h0 as pl,h1 as ml,h2 as hl,h3 as yl,h4 as Cl}from"../chunks/runtime-require.BYnIYq6X.mjs";import{c as Re,C as wl}from"../chunks/Container.CbvB97wc.mjs";import{I as _l,b as Ie}from"../chunks/IconButton.Bsplk8vF.mjs";import{s as Se,b as fe,r as yt,p as nt,a as F,v as Er,e as we,q as te,t as kl}from"../chunks/store.81G_Fa88.mjs";import{R as xe}from"../chunks/Row.C9YvKy-i.mjs";import{e as Ft,i as ds,p as Pl}from"../chunks/theme.CTbh-T3R.mjs";import{c as as}from"../chunks/svelte-component.DH0oo_gy.mjs";import{T as We}from"../chunks/TitledContainer.sFcXS-6Y.mjs";import{C as ut,R as Rt,H as ge,c as Me,a as re,b as Xe,S as Ge,E as et,M as bl}from"../chunks/EnumSelectorRow.5KL8AqeJ.mjs";import{c as Tt,M as Mr,S as xl,l as Sl,u as Ol,v as Al,w as Rl,d as Tl,W as Il,P as Dl,D as pt,t as Ll}from"../chunks/Badge.BcX8LcxP.mjs";import{a as It,b as Zt}from"../chunks/input.rjbhKqap.mjs";import{I as Nt,ab as El,J as Ml,f as sr,h as Nr,ac as Nl,S as Fl,g as Vl,p as Hl}from"../chunks/Shortcut.DHDq_OLp.mjs";import{C as at}from"../chunks/Col.sAWL-u8X.mjs";import{m as Fr}from"../chunks/context-keys.Dbye-yJ_.mjs";import{L as Bl,S as zl}from"../chunks/LabelButton.DTuXMXBu.mjs";import{t as rr,s as nr}from"../chunks/index.D14Geu7t.mjs";import{r as Mt}from"../chunks/progress.BgVki4Zz.mjs";import{ac as fs,y as ar,z as or,A as ir,C as jl,B as Gl,D as Wl,E as ql,H as lr,F as Ul,G as ur,b as Ql,J as Yl,I as Kl,L as Xl,K as Jl,N as Zl,M as eu}from"../chunks/HoverColumns.Dj-B_HSd.mjs";import{t as es,b as Qe,c as tu,u as su,e as ru}from"../chunks/time.CAuCz362.mjs";import{t as nu}from"../chunks/time.CckXyyFZ.mjs";import{I as au,i as ou,c as iu,C as lu,T as uu}from"../chunks/TableData.xRQi8YwM.mjs";import{S as cr,a as cu}from"../chunks/isObject.DB8w6JNV.mjs";function du(s){h(s,s.v+1)}function fu(s){let e=0,r=jn(0),t;return()=>{pr()&&(a(r),mr(()=>(e===0&&(t=P(()=>s(()=>du(r)))),e+=1,()=>{At().then(()=>{e-=1,e===0&&(t==null||t(),t=void 0)})})))}}function gu(s,e){let r=s();const t=Ae(r,n=>{let o=r!==s();const c=Gn(()=>{mr(()=>{const i=s();o&&n(i)})});return o=!0,c});return e?{set:e,update:n=>e(n(s())),subscribe:t.subscribe}:{subscribe:t.subscribe}}function vu(s){let e;const r=fu(n=>{let o=!1;const c=s.subscribe(i=>{e=i,o&&n()});return o=!0,c});function t(){return pr()?(r(),e):Oe(s)}return"set"in s?{get current(){return t()},set current(n){s.set(n)}}:{get current(){return t()}}}const $u=Object.freeze(Object.defineProperty({__proto__:null,derived:Qn,fromStore:vu,get:Oe,readable:hr,readonly:Yn,toStore:gu,writable:Ae},Symbol.toStringTag,{value:"Module"}));function pu(s,e,...r){return mu(s,ou,e,r)}function mu(s,e,r,t){return function n(o,c){if(c>=t.length)return r(o);const i=new au,l=t[c++];let v=-1;for(const p of o){const m=l(p,++v,o),d=i.get(m);d?d.push(p):i.set(m,[p])}for(const[p,m]of i)i.set(p,n(m,c));return e(i)}(s,0)}const hu=iu("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function yu(s,e){for(var r=-1,t=s==null?0:s.length,n=Array(t);++r<t;)n[r]=e(s[r],r,s);return n}var Cu=1/0,dr=cr?cr.prototype:void 0,fr=dr?dr.toString:void 0;function Vr(s){if(typeof s=="string")return s;if(Tt(s))return yu(s,Vr)+"";if(fs(s))return fr?fr.call(s):"";var e=s+"";return e=="0"&&1/s==-Cu?"-0":e}function wu(s){return s}var _u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ku=/^\w*$/;function gs(s,e){if(Tt(s))return!1;var r=typeof s;return r=="number"||r=="symbol"||r=="boolean"||s==null||fs(s)?!0:ku.test(s)||!_u.test(s)||e!=null&&s in Object(e)}var Pu="Expected a function";function vs(s,e){if(typeof s!="function"||e!=null&&typeof e!="function")throw new TypeError(Pu);var r=function(){var t=arguments,n=e?e.apply(this,t):t[0],o=r.cache;if(o.has(n))return o.get(n);var c=s.apply(this,t);return r.cache=o.set(n,c)||o,c};return r.cache=new(vs.Cache||Mr),r}vs.Cache=Mr;var bu=500;function xu(s){var e=vs(s,function(t){return r.size===bu&&r.clear(),t}),r=e.cache;return e}var Su=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ou=/\\(\\)?/g,Au=xu(function(s){var e=[];return s.charCodeAt(0)===46&&e.push(""),s.replace(Su,function(r,t,n,o){e.push(n?o.replace(Ou,"$1"):t||r)}),e});function Ru(s){return s==null?"":Vr(s)}function Hr(s,e){return Tt(s)?s:gs(s,e)?[s]:Au(Ru(s))}var Tu=1/0;function Vt(s){if(typeof s=="string"||fs(s))return s;var e=s+"";return e=="0"&&1/s==-Tu?"-0":e}function Br(s,e){e=Hr(e,s);for(var r=0,t=e.length;s!=null&&r<t;)s=s[Vt(e[r++])];return r&&r==t?s:void 0}function Iu(s,e,r){var t=s==null?void 0:Br(s,e);return t===void 0?r:t}var Du=1,Lu=2;function Eu(s,e,r,t){var n=r.length,o=n;if(s==null)return!o;for(s=Object(s);n--;){var c=r[n];if(c[2]?c[1]!==s[c[0]]:!(c[0]in s))return!1}for(;++n<o;){c=r[n];var i=c[0],l=s[i],v=c[1];if(c[2]){if(l===void 0&&!(i in s))return!1}else{var p=new xl,m;if(!(m===void 0?ls(v,l,Du|Lu,t,p):m))return!1}}return!0}function zr(s){return s===s&&!cu(s)}function Mu(s){for(var e=Sl(s),r=e.length;r--;){var t=e[r],n=s[t];e[r]=[t,n,zr(n)]}return e}function jr(s,e){return function(r){return r==null?!1:r[s]===e&&(e!==void 0||s in Object(r))}}function Nu(s){var e=Mu(s);return e.length==1&&e[0][2]?jr(e[0][0],e[0][1]):function(r){return r===s||Eu(r,s,e)}}function Fu(s,e){return s!=null&&e in Object(s)}function Vu(s,e,r){e=Hr(e,s);for(var t=-1,n=e.length,o=!1;++t<n;){var c=Vt(e[t]);if(!(o=s!=null&&r(s,c)))break;s=s[c]}return o||++t!=n?o:(n=s==null?0:s.length,!!n&&Ol(n)&&Al(c,n)&&(Tt(s)||Rl(s)))}function Hu(s,e){return s!=null&&Vu(s,e,Fu)}var Bu=1,zu=2;function ju(s,e){return gs(s)&&zr(e)?jr(Vt(s),e):function(r){var t=Iu(r,s);return t===void 0&&t===e?Hu(r,s):ls(e,t,Bu|zu)}}function Gu(s){return function(e){return e==null?void 0:e[s]}}function Wu(s){return function(e){return Br(e,s)}}function qu(s){return gs(s)?Gu(Vt(s)):Wu(s)}function Uu(s){return typeof s=="function"?s:s==null?wu:typeof s=="object"?Tt(s)?ju(s[0],s[1]):Nu(s):qu(s)}function Qu(s,e,r){r=typeof r=="function"?r:void 0;var t=r?r(s,e):void 0;return t===void 0?ls(s,e,void 0,r):!!t}function Yu(s,e){for(var r,t=-1,n=s.length;++t<n;){var o=e(s[t]);o!==void 0&&(r=r===void 0?o:r+o)}return r}function Ku(s,e){return s&&s.length?Yu(s,Uu(e)):0}function os(){let s;return[new Promise(r=>s=r),s]}class Xu{constructor(e,r){ie(this,"currentConfig");ie(this,"currentAuxData");ie(this,"configList");ie(this,"cardStateCustomizer");ie(this,"currentDeck");ie(this,"deckLimits");ie(this,"defaults");ie(this,"addonComponents");ie(this,"newCardsIgnoreReviewLimit");ie(this,"applyAllParentLimits");ie(this,"fsrs");ie(this,"fsrsReschedule",Ae(!1));ie(this,"daysSinceLastOptimization");ie(this,"currentPresetName");ie(this,"originalConfigsPromise");ie(this,"originalConfigsResolve");ie(this,"targetDeckId");ie(this,"configs");ie(this,"selectedIdx");ie(this,"configListSetter");ie(this,"modifiedConfigs",new Set);ie(this,"removedConfigs",[]);ie(this,"schemaModified");ie(this,"_presetAssignmentsChanged",!1);ie(this,"loadedPresets",new Set);var t,n;this.targetDeckId=e,this.currentDeck=r.currentDeck,this.defaults=r.defaults.config,this.configs=r.allConfig.map(o=>({config:o.config,useCount:o.useCount})),this.selectedIdx=Math.max(0,this.configs.findIndex(o=>o.config.id===this.currentDeck.configId)),this.sortConfigs(),this.cardStateCustomizer=Ae(r.cardStateCustomizer),this.deckLimits=Ae((n=(t=r.currentDeck)==null?void 0:t.limits)!=null?n:Zu()),this.newCardsIgnoreReviewLimit=Ae(r.newCardsIgnoreReviewLimit),this.applyAllParentLimits=Ae(r.applyAllParentLimits),this.fsrs=Ae(r.fsrs),this.daysSinceLastOptimization=Ae(r.daysSinceLastFsrsOptimize),this.configs[this.selectedIdx].useCount-=1,this.currentConfig=Ae(this.getCurrentConfig()),this.currentAuxData=Ae(this.getCurrentAuxData()),this.currentPresetName=Ae(this.configs[this.selectedIdx].config.name),this.configList=hr(this.getConfigList(),o=>{this.configListSetter=o}),this.schemaModified=r.schemaModified,this.addonComponents=Ae([]),Oe(this.configList),this.currentConfig.subscribe(o=>this.onCurrentConfigChanged(o)),this.currentAuxData.subscribe(o=>this.onCurrentAuxDataChanged(o)),this.loadedPresets.add(this.configs[this.selectedIdx].config.id),[this.originalConfigsPromise,this.originalConfigsResolve]=os()}async markCurrentPresetAsLoaded(){const e=this.configs[this.selectedIdx].config.id,r=this.loadedPresets;if(e&&!r.has(e)){r.add(e);const t=await this.originalConfigsPromise,n=t.configs.findIndex(o=>o.id===e);n!==-1&&(t.configs[n]=Lt(this.configs[this.selectedIdx].config))}}setCurrentIndex(e){this.selectedIdx=e,this._presetAssignmentsChanged=!0,this.updateCurrentConfig(),this.updateConfigList(),At().then(()=>this.markCurrentPresetAsLoaded())}getCurrentName(){return this.configs[this.selectedIdx].config.name}getCurrentNameForSearch(){return this.getCurrentName().replace(/([\\"])/g,"\\$1")}setCurrentName(e){if(this.configs[this.selectedIdx].config.name===e)return;const r=this.ensureNewNameUnique(e),t=this.configs[this.selectedIdx].config;t.name=r,t.id&&this.modifiedConfigs.add(t.id),this.sortConfigs(),this.updateConfigList()}addConfig(e){this.addConfigFrom(e,this.defaults)}cloneConfig(e){this.addConfigFrom(e,this.configs[this.selectedIdx].config.config)}addConfigFrom(e,r){const t=this.ensureNewNameUnique(e),o={config:new bn({id:0n,name:t,config:new xn(Lt(r))}),useCount:0};this.configs.push(o),this.selectedIdx=this.configs.length-1,this._presetAssignmentsChanged=!0,this.sortConfigs(),this.updateCurrentConfig(),this.updateConfigList()}removalWilLForceFullSync(){return!this.schemaModified&&this.configs[this.selectedIdx].config.id!==0n}defaultConfigSelected(){return this.configs[this.selectedIdx].config.id===1n}removeCurrentConfig(){const e=this.configs[this.selectedIdx].config.id;if(e===1n)throw Error("can't remove default config");e!==0n&&(this.removedConfigs.push(e),this.schemaModified=!0),this.configs.splice(this.selectedIdx,1);const r=Math.max(0,this.selectedIdx-1);this.setCurrentIndex(r)}dataForSaving(e){const t=[...this.configs.map(n=>n.config).filter((n,o)=>o!==this.selectedIdx&&(n.id===0n||this.modifiedConfigs.has(n.id))),this.configs[this.selectedIdx].config];return{targetDeckId:this.targetDeckId,removedConfigIds:this.removedConfigs,configs:t,mode:e,cardStateCustomizer:Oe(this.cardStateCustomizer),limits:Oe(this.deckLimits),newCardsIgnoreReviewLimit:Oe(this.newCardsIgnoreReviewLimit),applyAllParentLimits:Oe(this.applyAllParentLimits),fsrs:Oe(this.fsrs),fsrsReschedule:Oe(this.fsrsReschedule)}}presetAssignmentsChanged(){return this._presetAssignmentsChanged}async save(e){await Sn(this.dataForSaving(e))}onCurrentConfigChanged(e){const r=this.configs[this.selectedIdx].config;Bs(e,r.config)||(r.config=e,r.id&&this.modifiedConfigs.add(r.id))}onCurrentAuxDataChanged(e){const r=this.getCurrentAuxData();Bs(r,e)||this.currentConfig.update(t=>{const n=new TextEncoder().encode(JSON.stringify(e));return t.other=n,t})}ensureNewNameUnique(e){return this.configs.findIndex(t=>t.config.name===e)!==-1?e+(new Date().getTime()/1e3).toFixed(0):e}updateCurrentConfig(){this.currentConfig.set(this.getCurrentConfig()),this.currentAuxData.set(this.getCurrentAuxData())}updateConfigList(){var e;(e=this.configListSetter)==null||e.call(this,this.getConfigList()),this.currentPresetName.set(this.configs[this.selectedIdx].config.name)}getCurrentConfig(){return Lt(this.configs[this.selectedIdx].config.config)}getCurrentAuxData(){const e=this.configs[this.selectedIdx].config.config;return Ju(e.other)}sortConfigs(){const e=this.configs[this.selectedIdx].config.name;this.configs.sort((r,t)=>Vn(r.config.name,t.config.name,{sensitivity:"base"})),this.selectedIdx=this.configs.findIndex(r=>r.config.name==e)}getConfigList(){return this.configs.map((r,t)=>{const n=r.useCount+(t===this.selectedIdx?1:0);return{name:r.config.name,current:t===this.selectedIdx,idx:t,useCount:n}})}getAllConfigs(){return Lt({configs:this.configs.map(e=>e.config),cardStateCustomizer:Oe(this.cardStateCustomizer),limits:Oe(this.deckLimits),newCardsIgnoreReviewLimit:Oe(this.newCardsIgnoreReviewLimit),applyAllParentLimits:Oe(this.applyAllParentLimits),fsrs:Oe(this.fsrs),fsrsReschedule:Oe(this.fsrsReschedule),currentConfig:Oe(this.currentConfig)})}async isModified(){const e=await this.originalConfigsPromise,r=this.getAllConfigs();return!Qu(e,r,(t,n)=>{if(typeof t=="number"&&typeof n=="number")return Math.fround(t)===Math.fround(n)})}resolveOriginalConfigs(){this.originalConfigsResolve(this.getAllConfigs())}}function Ju(s){if(!s.length)return{};let e;try{e=JSON.parse(new TextDecoder().decode(s))}catch{return console.log("invalid json in deck config"),{}}return e.constructor!==Object?(console.log("invalid object in deck config"),{}):e}function Zu(){return new On({})}class st{constructor(e,r,t,n,o){ie(this,"title");ie(this,"value");ie(this,"setter");ie(this,"disabledValue");ie(this,"startValue");ie(this,"initialValue");this.title=e,this.value=this.initialValue=r,this.setter=t,this.disabledValue=n,this.startValue=o}reset(){this.setter(this.initialValue)}disable(){this.setter(this.disabledValue)}enable(e){var r,t;this.value=(t=(r=this.value)!=null?r:this.startValue)!=null?t:e,this.setter(this.value)}setValue(e){this.value=e,this.setter(e)}}async function Gr(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),await At()}function xt(s){return s.fsrsParams5?s.fsrsParams5:s.fsrsParams4}const ec=async({params:s})=>{const e=Number(s.deckId),r=BigInt(e),t=await An({did:r});return{state:new Xu(BigInt(r),t)}},Nf=Object.freeze(Object.defineProperty({__proto__:null,load:ec},Symbol.toStringTag,{value:"Module"}));wr("svelte",Jn);wr("svelte/store",$u);function tc(s,e){pe(e,!1);const r=Se(),t=()=>fe(c,"$components",r),n=()=>fe(i,"$auxData",r);let o=H(e,"state",8);const c=o().addonComponents,i=o().currentAuxData;he();var l=ze(),v=se(l);{var p=m=>{We(m,{title:"Add-ons",children:(d,L)=>{var y=ze(),T=se(y);Ft(T,1,t,ds,(_,O)=>{var b=ze(),N=se(b);as(N,()=>a(O).component,(S,Y)=>{Y(S,yr(()=>a(O),{get data(){return yt(),n()},set data(G){nt(i,G)},$$legacy:!0}))}),g(_,b)}),g(d,y)},$$slots:{default:!0}})};Pe(v,m=>{t().length&&m(p)})}g(s,l),me()}function ts(s,e){let r,t;if(e instanceof Element){if(r=e,t=Array.prototype.indexOf.call(s,r),t<0)return null}else if(typeof e=="string"){const n=s.namedItem(e);if(!n||(r=n,t=Array.prototype.indexOf.call(s,r),t<0))return null}else if(e<0){t=s.length+e;const n=s.item(t);if(!n)return null;r=n}else{t=e;const n=s.item(t);if(!n)return null;r=n}return[r,t]}class sc{constructor(e){ie(this,"parent");this.parent=e}insertElement(e,r){const t=ts(this.parent.children,r);if(!t)return-1;const[n,o]=t;return this.parent.insertBefore(e,n[0]),o}appendElement(e,r){var i;const t=ts(this.parent.children,r);if(!t)return-1;const[n,o]=t,c=(i=n.nextElementSibling)!=null?i:null;return this.parent.insertBefore(e,c),o+1}updateElement(e,r){const t=ts(this.parent.children,r);return t?(e(...t),!0):!1}}function rc(s){return new sc(s)}function nc(s){return s.nodeType===Node.ELEMENT_NODE}function ac(s){function e(t){Wn(s,t)}return[{get(){return is(s)},available(){return qn(s)}},e]}function oc(s,e,r,t){const n=Ae([]);n.subscribe(e);function o(y,T){n.update(_=>(_.splice(y,0,T),_))}const[c,i]=os(),l=c.then(rc),v=Ae([]);async function p(y,T){const[_,O]=os(),b=await l,N=s();function S(A){return!y.id||A.id===y.id}async function Y(A,z){for(const x of A)for(const k of x.addedNodes){if(!nc(k)||!S(k))continue;const f=T(k,b);return f>=0&&o(f,N),O(void 0),z.disconnect()}}new MutationObserver(Y).observe(b.parent,{childList:!0});const I={component:y,hostProps:N};return v.update(A=>(A.push(I),A)),await _,{destroy(){v.update(A=>(Kn(A,I),A))}}}async function m(y,T){return(await l).updateElement((O,b)=>{n.update(N=>(N[b]=y(N[b]),N))},T)}const d=t({addComponent:p,updateProps:m});function L(){const y=s();return n.update(T=>(T.push(y),T)),y}return r({getProps:L}),{dynamicSlotted:v,resolveSlotContainer:i,slotsInterface:d}}function ic(){return{detach:Ae(!1)}}function lc({addComponent:s,updateProps:e}){function r(i,l=0){return s(i,(v,p)=>p.insertElement(v,l))}function t(i,l=-1){return s(i,(v,p)=>p.appendElement(v,l))}function n(i){return e(l=>(l.detach.set(!1),l),i)}function o(i){return e(l=>(l.detach.set(!0),l),i)}function c(i){return e(l=>(l.detach.update(v=>!v),l),i)}return{insert:r,append:t,show:n,hide:o,toggle:c}}const uc=Symbol("dynamicSlotting"),[gr,cc]=ac(uc);var dc=J('<div class="dynamically-slottable svelte-8in7my"><!> <!></div>');function Ke(s,e){pe(e,!1);const r=Se(),t=()=>fe(d,"$dynamicSlotted",r);function n(O){return O}let o=H(e,"slotHost",8),c=H(e,"createProps",8,ic),i=H(e,"updatePropsList",8,n),l=H(e,"setSlotHostContext",8,cc),v=H(e,"createInterface",8,lc);const{slotsInterface:p,resolveSlotContainer:m,dynamicSlotted:d}=oc(c(),i(),l(),v());let L=H(e,"api",8);Object.assign(L(),p),he();var y=dc(),T=Q(y);rt(T,e,"default",{});var _=$(T,2);Ft(_,1,t,({component:O,hostProps:b})=>O.id,(O,b)=>{let N=()=>a(b).component,S=()=>a(b).hostProps;var Y=ze(),G=se(Y);as(G,o,(I,A)=>{A(I,{get id(){return N().id},get hostProps(){return S()},children:(z,x)=>{var k=ze(),C=se(k);as(C,()=>N().component,(f,w)=>{w(f,yr(()=>N().props))}),g(z,k)},$$slots:{default:!0}})}),g(O,Y)}),E(y),Tl(y,O=>m==null?void 0:m(O)),g(s,y),me()}var fc=J('<div class="item svelte-u5rx4p"><!></div>');function K(s,e){var p;pe(e,!1);const r=Se(),t=()=>fe(c,"$detach",r);let n=H(e,"id",8,void 0),o=H(e,"hostProps",8,void 0);gr.available()||console.log("Item: should always have a slotHostContext");const{detach:c}=(p=o())!=null?p:gr.get().getProps();he();var i=fc(),l=Q(i);{var v=m=>{var d=ze(),L=se(d);rt(L,e,"default",{}),g(m,d)};Pe(l,m=>{t()||m(v)})}E(i),R(()=>He(i,"id",n())),g(s,i),me()}var gc=J(' <div class="inline-icon svelte-cpy9wq"><!></div>',1);function Ot(s,e){pe(e,!1);let r=H(e,"title",8);he(),ee();var t=gc(),n=se(t),o=$(n);R(()=>He(o,"title",ns()));var c=Q(o);Nt(c,{icon:El}),E(o),R(()=>{var i;return F(n,`${(i=r())!=null?i:""} `)}),g(s,t),me()}var vc=J('<details><summary><!></summary> <div class="text svelte-pjduvg"><textarea class="card-state-customizer form-control svelte-pjduvg" spellcheck="false" autocapitalize="none"></textarea></div></details>'),$c=J('<div class="m-2"><!></div>');function pc(s,e){let r=H(e,"value",12),t=H(e,"title",8);var n=$c(),o=Q(n);ut(o,{children:(c,i)=>{var l=vc(),v=Q(l),p=Q(v);Ot(p,{get title(){return t()}}),E(v);var m=$(v,2),d=Q(m);Er(d),E(m),E(l),It(d,r),g(c,l)},$$slots:{default:!0,revert:(c,i)=>{Rt(c,{slot:"revert",defaultValue:"",get value(){return r()},set value(l){r(l)},$$legacy:!0})}}}),E(n),g(s,n)}var mc=J('<div class="spinner decrement svelte-1dakg3f" tabindex="-1" role="button"><!></div> <div class="spinner increment svelte-1dakg3f" tabindex="-1" role="button"><!></div>',1),hc=J('<div class="spin-box svelte-1dakg3f"><input type="number" pattern="[0-9]*" inputmode="numeric" class="svelte-1dakg3f"> <!></div>');function Wr(s,e){pe(e,!1);let r=H(e,"value",12),t=H(e,"step",8,1),n=H(e,"min",8,1),o=H(e,"max",8,9999),c=V(),i=V(!1);function l(I){Number.isNaN(I)||r(Math.min(o(),Math.max(n(),I))),At().then(()=>ke(c,a(c).value=a(p)))}function v(I){return Math.floor(I)===I?0:I.toString().split(".")[1].length||0}let p=V();function m(){l(parseFloat(this.value))}function d(I){a(i)&&(l(r()+(I.deltaY<0?t():-t())),I.preventDefault())}function L(I){l(r()+I),a(_)&&setTimeout(()=>L(I),O)}const y=[1500,1250,1e3,750,500,250];async function T(I){h(_,!0),O=128,h(b,setTimeout(I,250));for(const A of y)O=await new Promise(z=>setTimeout(()=>z(a(_)?O/2:128),A))}let _=V(!1),O,b=V();ce(()=>(Ye(r()),Ye(t())),()=>{h(p,r().toFixed(v(t())))}),Fe(),he();var N=hc(),S=Q(N);tt(S),St(S,I=>h(c,I),()=>a(c));var Y=$(S,2);{var G=I=>{var A=mc(),z=se(A);R(()=>He(z,"title",ea()));var x=Q(z);sr(x,{children:(f,w)=>{Nt(f,{icon:Nr})},$$slots:{default:!0}}),E(z);var k=$(z,2);R(()=>He(k,"title",ta()));var C=Q(k);sr(C,{children:(f,w)=>{Nt(f,{icon:Nl})},$$slots:{default:!0}}),E(k),R(()=>{ht(z,"active",r()>n()),ht(k,"active",r()<o())}),we("click",z,()=>{a(c).focus(),r()>n()&&L(-t())}),we("mousedown",z,()=>T(()=>{r()>n()&&L(-t())})),we("mouseup",z,()=>{clearTimeout(a(b)),h(_,!1)}),we("click",k,()=>{a(c).focus(),r()<o()&&L(t())}),we("mousedown",k,()=>T(()=>{r()<o()&&L(t())})),we("mouseup",k,()=>{clearTimeout(a(b)),h(_,!1)}),g(I,A)};Pe(Y,I=>{Ml()&&I(G)})}E(N),R(()=>{He(S,"min",n()),He(S,"max",o()),He(S,"step",t()),cs(S,a(p))}),we("blur",S,m),we("focusin",S,()=>h(i,!0)),we("focusout",S,()=>h(i,!1)),we("wheel",N,d),g(s,N),me()}var yc=J('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Cc=J('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Ze(s,e){let r=H(e,"value",12),t=H(e,"defaultValue",8),n=H(e,"min",8,0),o=H(e,"max",8,9999),c=H(e,"step",8,.01);var i=Cc(),l=se(i);Re(l,()=>({"--cols":13})),xe(l.lastChild,{children:(v,p)=>{var m=yc(),d=se(m);Re(d,()=>({"--col-size":7})),at(d.lastChild,{breakpoint:"xs",children:(y,T)=>{var _=ze(),O=se(_);rt(O,e,"default",{}),g(y,_)},$$slots:{default:!0}}),E(d);var L=$(d,2);Re(L,()=>({"--col-size":6})),at(L.lastChild,{breakpoint:"xs",children:(y,T)=>{ut(y,{children:(_,O)=>{Wr(_,{get min(){return n()},get max(){return o()},get step(){return c()},get value(){return r()},set value(b){r(b)},$$legacy:!0})},$$slots:{default:!0,revert:(_,O)=>{Rt(_,{slot:"revert",get defaultValue(){return t()},get value(){return r()},set value(b){r(b)},$$legacy:!0})}}})},$$slots:{default:!0}}),E(L),g(v,m)},$$slots:{default:!0}}),E(l),g(s,i)}var wc=J("<!> <!>",1),_c=J('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),kc=J('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Ne(s,e){let r=H(e,"value",12),t=H(e,"defaultValue",8),n=H(e,"min",8,0),o=H(e,"max",8,9999);var c=kc(),i=se(c);Re(i,()=>({"--cols":13})),xe(i.lastChild,{children:(l,v)=>{var p=_c(),m=se(p);Re(m,()=>({"--col-size":7})),at(m.lastChild,{breakpoint:"xs",children:(L,y)=>{var T=ze(),_=se(T);rt(_,e,"default",{}),g(L,T)},$$slots:{default:!0}}),E(m);var d=$(m,2);Re(d,()=>({"--col-size":6})),at(d.lastChild,{breakpoint:"xs",children:(L,y)=>{xe(L,{class:"flex-grow-1",children:(T,_)=>{var O=wc(),b=se(O);rt(b,e,"tabs",{});var N=$(b,2);ut(N,{children:(S,Y)=>{Wr(S,{get min(){return n()},get max(){return o()},get value(){return r()},set value(G){r(G)},$$legacy:!0})},$$slots:{default:!0,revert:(S,Y)=>{Rt(S,{slot:"revert",get defaultValue(){return t()},get value(){return r()},set value(G){r(G)},$$legacy:!0})}}}),g(T,O)},$$slots:{default:!0}})},$$slots:{default:!0}}),E(d),g(l,p)},$$slots:{default:!0}}),E(i),g(s,c)}var Pc=J('<input type="date" class="svelte-ora9c4">'),bc=J('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),xc=J('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Sc=J("<div><!></div>");function Oc(s,e){pe(e,!1);let r=H(e,"date",12);ce(()=>Ye(r()),()=>{r(r()?r():"1970-01-01")}),Fe();var t=Sc(),n=Q(t);ut(n,{children:(o,c)=>{var i=xc(),l=se(i);Re(l,()=>({"--cols":13})),xe(l.lastChild,{children:(v,p)=>{var m=bc(),d=se(m);Re(d,()=>({"--col-size":7})),at(d.lastChild,{breakpoint:"xs",children:(y,T)=>{var _=ze(),O=se(_);rt(O,e,"default",{}),g(y,_)},$$slots:{default:!0}}),E(d);var L=$(d,2);Re(L,()=>({"--col-size":6})),at(L.lastChild,{breakpoint:"xs",children:(y,T)=>{var _=Pc();tt(_),It(_,r),g(y,_)},$$slots:{default:!0}}),E(L),g(v,m)},$$slots:{default:!0}}),E(l),g(o,i)},$$slots:{default:!0}}),E(t),g(s,t),me()}var Ac=J("<!> <!> <!> <!> <!>",1),Rc=J("<!> <!>",1),Tc=J("<!> <!> <!>",1);function Ic(s,e){pe(e,!1);const r=Se(),t=()=>fe(m,"$fsrs",r),n=()=>fe(l,"$config",r),o=()=>fe(p,"$cardStateCustomizer",r);let c=H(e,"state",8),i=H(e,"api",8);const l=c().currentConfig,v=c().defaults,p=c().cardStateCustomizer,m=c().fsrs,d={maximumInterval:{title:_r(),help:sa(),url:ge.DeckOptions.maximumInterval},historicalRetention:{title:zs(),help:ra(),sched:Me.FSRS},ignoreRevlogsBeforeMs:{title:js(),help:na(),sched:Me.FSRS},startingEase:{title:aa(),help:oa(),url:ge.DeckOptions.startingEase,sched:Me.SM2},easyBonus:{title:ia(),help:la(),url:ge.DeckOptions.easyBonus,sched:Me.SM2},intervalModifier:{title:ua(),help:ca(),url:ge.DeckOptions.intervalModifier,sched:Me.SM2},hardInterval:{title:da(),help:fa(),url:ge.DeckOptions.hardInterval,sched:Me.SM2},newInterval:{title:ga(),help:va(),url:ge.DeckOptions.newInterval,sched:Me.SM2},customScheduling:{title:$a(),help:pa(),url:"https://faqs.ankiweb.net/the-2021-scheduler.html#add-ons-and-custom-scheduling"}},L=Object.values(d);let y=V(),T=V();function _(b){a(y).show(),a(T).to(b)}he();var O=le(()=>Gs());We(s,{get title(){return a(O)},children:(b,N)=>{Ke(b,{slotHost:K,get api(){return i()},children:(S,Y)=>{var G=Tc(),I=se(G);K(I,{children:(C,f)=>{Ne(C,{get defaultValue(){return v.maximumReviewInterval},min:1,max:365*100,get value(){return n().maximumReviewInterval},set value(w){te(l,P(n).maximumReviewInterval=w,P(n))},children:(w,D)=>{re(w,{$$events:{click:()=>_(Object.keys(d).indexOf("maximumInterval"))},children:(B,U)=>{ee();var q=X();R(()=>F(q,d.maximumInterval.title)),g(B,q)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var A=$(I,2);{var z=C=>{var f=Ac(),w=se(f);K(w,{children:(M,j)=>{Ze(M,{get defaultValue(){return v.initialEase},min:1.31,max:5,get value(){return n().initialEase},set value(Z){te(l,P(n).initialEase=Z,P(n))},children:(Z,de)=>{re(Z,{$$events:{click:()=>_(Object.keys(d).indexOf("startingEase"))},children:(ue,be)=>{ee();var ve=X();R(()=>F(ve,d.startingEase.title)),g(ue,ve)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var D=$(w,2);K(D,{children:(M,j)=>{Ze(M,{get defaultValue(){return v.easyMultiplier},min:1,max:5,get value(){return n().easyMultiplier},set value(Z){te(l,P(n).easyMultiplier=Z,P(n))},children:(Z,de)=>{re(Z,{$$events:{click:()=>_(Object.keys(d).indexOf("easyBonus"))},children:(ue,be)=>{ee();var ve=X();R(()=>F(ve,d.easyBonus.title)),g(ue,ve)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var B=$(D,2);K(B,{children:(M,j)=>{Ze(M,{get defaultValue(){return v.intervalMultiplier},min:.5,max:2,get value(){return n().intervalMultiplier},set value(Z){te(l,P(n).intervalMultiplier=Z,P(n))},children:(Z,de)=>{re(Z,{$$events:{click:()=>_(Object.keys(d).indexOf("intervalModifier"))},children:(ue,be)=>{ee();var ve=X();R(()=>F(ve,d.intervalModifier.title)),g(ue,ve)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var U=$(B,2);K(U,{children:(M,j)=>{Ze(M,{get defaultValue(){return v.hardMultiplier},min:.5,max:1.3,get value(){return n().hardMultiplier},set value(Z){te(l,P(n).hardMultiplier=Z,P(n))},children:(Z,de)=>{re(Z,{$$events:{click:()=>_(Object.keys(d).indexOf("hardInterval"))},children:(ue,be)=>{ee();var ve=X();R(()=>F(ve,d.hardInterval.title)),g(ue,ve)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var q=$(U,2);K(q,{children:(M,j)=>{Ze(M,{get defaultValue(){return v.lapseMultiplier},max:1,get value(){return n().lapseMultiplier},set value(Z){te(l,P(n).lapseMultiplier=Z,P(n))},children:(Z,de)=>{re(Z,{$$events:{click:()=>_(Object.keys(d).indexOf("newInterval"))},children:(ue,be)=>{ee();var ve=X();R(()=>F(ve,d.newInterval.title)),g(ue,ve)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),g(C,f)},x=C=>{var f=Rc(),w=se(f);Ze(w,{get defaultValue(){return v.historicalRetention},min:.5,max:1,get value(){return n().historicalRetention},set value(B){te(l,P(n).historicalRetention=B,P(n))},children:(B,U)=>{re(B,{$$events:{click:()=>_(Object.keys(d).indexOf("historicalRetention"))},children:(q,M)=>{ee();var j=X();R(()=>F(j,zs())),g(q,j)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var D=$(w,2);K(D,{children:(B,U)=>{Oc(B,{get date(){return n().ignoreRevlogsBeforeDate},set date(q){te(l,P(n).ignoreRevlogsBeforeDate=q,P(n))},children:(q,M)=>{re(q,{$$events:{click:()=>_(Object.keys(d).indexOf("ignoreRevlogsBeforeMs"))},children:(j,Z)=>{ee();var de=X();R(()=>F(de,js())),g(j,de)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),g(C,f)};Pe(A,C=>{t()?C(x,!1):C(z)})}var k=$(A,2);K(k,{children:(C,f)=>{pc(C,{get title(){return d.customScheduling.title},get value(){return yt(),o()},set value(w){nt(p,w)},$$events:{click:()=>_(Object.keys(d).indexOf("customScheduling"))},$$legacy:!0})},$$slots:{default:!0}}),g(S,G)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(b,N)=>{var S=le(()=>Gs());Xe(b,{get title(){return a(S)},get url(){return ge.DeckOptions.advanced},slot:"tooltip",get fsrs(){return t()},helpSections:L,$$events:{mount:Y=>{h(y,Y.detail.modal),h(T,Y.detail.carousel)}}})}}}),me()}var Dc=J("<!> <!>",1);function Lc(s,e){pe(e,!1);const r=Se(),t=()=>fe(c,"$config",r);let n=H(e,"state",8),o=H(e,"api",8);const c=n().currentConfig,i=n().defaults,l={disableAutoplay:{title:ma(),help:ha()},skipQuestionWhenReplaying:{title:ya(),help:Ca()}},v=Object.values(l);let p=V(),m=V();function d(y){a(p).show(),a(m).to(y)}he();var L=le(()=>Ws());We(s,{get title(){return a(L)},children:(y,T)=>{Ke(y,{slotHost:K,get api(){return o()},children:(_,O)=>{var b=Dc(),N=se(b);K(N,{children:(Y,G)=>{Ge(Y,{get defaultValue(){return i.disableAutoplay},get value(){return t().disableAutoplay},set value(I){te(c,P(t).disableAutoplay=I,P(t))},children:(I,A)=>{re(I,{$$events:{click:()=>d(Object.keys(l).indexOf("disableAutoplay"))},children:(z,x)=>{ee();var k=X();R(()=>F(k,l.disableAutoplay.title)),g(z,k)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var S=$(N,2);K(S,{children:(Y,G)=>{Ge(Y,{get defaultValue(){return i.skipQuestionWhenReplayingAnswer},get value(){return t().skipQuestionWhenReplayingAnswer},set value(I){te(c,P(t).skipQuestionWhenReplayingAnswer=I,P(t))},children:(I,A)=>{re(I,{$$events:{click:()=>d(Object.keys(l).indexOf("skipQuestionWhenReplaying"))},children:(z,x)=>{ee();var k=X();R(()=>F(k,l.skipQuestionWhenReplaying.title)),g(z,k)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),g(_,b)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(y,T)=>{var _=le(()=>Ws());Xe(y,{get title(){return a(_)},get url(){return ge.DeckOptions.audio},slot:"tooltip",helpSections:v,$$events:{mount:O=>{h(p,O.detail.modal),h(m,O.detail.carousel)}}})}}}),me()}function Ec(){return[{label:wa(),value:Je.DECK},{label:_a(),value:Je.DECK_THEN_RANDOM_NOTES},{label:ka(),value:Je.LOWEST_POSITION},{label:Pa(),value:Je.HIGHEST_POSITION},{label:ba(),value:Je.RANDOM_NOTES},{label:xa(),value:Je.RANDOM_CARDS}]}function Mc(){return[{label:Sa(),value:Ue.TEMPLATE},{label:Oa(),value:Ue.NO_SORT},{label:Aa(),value:Ue.TEMPLATE_THEN_RANDOM},{label:Ra(),value:Ue.RANDOM_NOTE_THEN_TEMPLATE},{label:kr(),value:Ue.RANDOM_CARD}]}function Nc(s){return[{label:Ta(),value:je.DAY},{label:Ia(),value:je.DAY_THEN_DECK},{label:Da(),value:je.DECK_THEN_DAY},{label:La(),value:je.INTERVALS_ASCENDING},{label:Ea(),value:je.INTERVALS_DESCENDING},...zc(s),{label:Ma(),value:je.RETRIEVABILITY_ASCENDING},{label:Na(),value:je.RETRIEVABILITY_DESCENDING},{label:kr(),value:je.RANDOM},{label:Fa(),value:je.ADDED},{label:Va(),value:je.REVERSE_ADDED}]}function vr(){return[{label:Ha(),value:Yt.MIX_WITH_REVIEWS},{label:Ba(),value:Yt.AFTER_REVIEWS},{label:za(),value:Yt.BEFORE_REVIEWS}]}function Fc(){return[{label:ja(),value:Vs.SUSPEND},{label:Ga(),value:Vs.TAG_ONLY}]}function Vc(){return[{label:Wa(),value:rs.DUE},{label:qa(),value:rs.RANDOM}]}function Hc(){return[{label:Ua(),value:Pt.BURY_CARD},{label:Qa(),value:Pt.ANSWER_AGAIN},{label:Ya(),value:Pt.ANSWER_GOOD},{label:Ka(),value:Pt.ANSWER_HARD},{label:Xa(),value:Pt.SHOW_REMINDER}]}function Bc(){return[{label:Ja(),value:Hs.SHOW_ANSWER},{label:Za(),value:Hs.SHOW_REMINDER}]}function zc(s){const e=[{label:s?eo():to(),value:je.EASE_ASCENDING},{label:s?so():ro(),value:je.EASE_DESCENDING}];return s&&e.reverse(),e}var jc=J("<!> <!> <!> <!> <!>",1);function Gc(s,e){pe(e,!1);const r=Se(),t=()=>fe(c,"$config",r);let n=H(e,"state",8),o=H(e,"api",8);const c=n().currentConfig,i=n().defaults,l={secondsToShowQuestion:{title:no(),help:ao()},secondsToShowAnswer:{title:oo(),help:io()},waitForAudio:{title:lo(),help:uo()},questionAction:{title:co(),help:fo()},answerAction:{title:go(),help:vo()}},v=Object.values(l);let p=V(),m=V();function d(y){a(p).show(),a(m).to(y)}he();var L=le(()=>qs());We(s,{get title(){return a(L)},children:(y,T)=>{Ke(y,{slotHost:K,get api(){return o()},children:(_,O)=>{var b=jc(),N=se(b);K(N,{children:(A,z)=>{Ze(A,{get defaultValue(){return i.secondsToShowQuestion},step:.1,get value(){return t().secondsToShowQuestion},set value(x){te(c,P(t).secondsToShowQuestion=x,P(t))},children:(x,k)=>{re(x,{$$events:{click:()=>d(Object.keys(l).indexOf("secondsToShowQuestion"))},children:(C,f)=>{ee();var w=X();R(()=>F(w,l.secondsToShowQuestion.title)),g(C,w)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var S=$(N,2);K(S,{children:(A,z)=>{Ze(A,{get defaultValue(){return i.secondsToShowAnswer},step:.1,get value(){return t().secondsToShowAnswer},set value(x){te(c,P(t).secondsToShowAnswer=x,P(t))},children:(x,k)=>{re(x,{$$events:{click:()=>d(Object.keys(l).indexOf("secondsToShowAnswer"))},children:(C,f)=>{ee();var w=X();R(()=>F(w,l.secondsToShowAnswer.title)),g(C,w)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var Y=$(S,2);K(Y,{children:(A,z)=>{Ge(A,{get defaultValue(){return i.waitForAudio},get value(){return t().waitForAudio},set value(x){te(c,P(t).waitForAudio=x,P(t))},children:(x,k)=>{re(x,{$$events:{click:()=>d(Object.keys(l).indexOf("waitForAudio"))},children:(C,f)=>{ee();var w=X();R(()=>F(w,l.waitForAudio.title)),g(C,w)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var G=$(Y,2);K(G,{children:(A,z)=>{var x=le(Bc);et(A,{get defaultValue(){return i.questionAction},get choices(){return a(x)},get value(){return t().questionAction},set value(k){te(c,P(t).questionAction=k,P(t))},children:(k,C)=>{re(k,{$$events:{click:()=>d(Object.keys(l).indexOf("questionAction"))},children:(f,w)=>{ee();var D=X();R(()=>F(D,l.questionAction.title)),g(f,D)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var I=$(G,2);K(I,{children:(A,z)=>{var x=le(Hc);et(A,{get defaultValue(){return i.answerAction},get choices(){return a(x)},get value(){return t().answerAction},set value(k){te(c,P(t).answerAction=k,P(t))},children:(k,C)=>{re(k,{$$events:{click:()=>d(Object.keys(l).indexOf("answerAction"))},children:(f,w)=>{ee();var D=X();R(()=>F(D,l.answerAction.title)),g(f,D)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),g(_,b)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(y,T)=>{var _=le(()=>qs());Xe(y,{get title(){return a(_)},get url(){return ge.DeckOptions.autoAdvance},slot:"tooltip",helpSections:v,$$events:{mount:O=>{h(p,O.detail.modal),h(m,O.detail.carousel)}}})}}}),me()}var Wc=J("<!> <!> <!>",1);function qc(s,e){pe(e,!1);const r=Se(),t=()=>fe(c,"$config",r);let n=H(e,"state",8),o=H(e,"api",8);const c=n().currentConfig,i=n().defaults,l=`

`+$o(),v={buryNewSiblings:{title:po(),help:mo()+l},buryReviewSiblings:{title:ho(),help:yo()+l},buryInterdayLearningSiblings:{title:Co(),help:wo()+l}},p=Object.values(v);let m=V(),d=V();function L(T){a(m).show(),a(d).to(T)}he();var y=le(()=>Us());We(s,{get title(){return a(y)},children:(T,_)=>{Ke(T,{slotHost:K,get api(){return o()},children:(O,b)=>{var N=Wc(),S=se(N);K(S,{children:(I,A)=>{Ge(I,{get defaultValue(){return i.buryNew},get value(){return t().buryNew},set value(z){te(c,P(t).buryNew=z,P(t))},children:(z,x)=>{re(z,{$$events:{click:()=>L(Object.keys(v).indexOf("buryNewSiblings"))},children:(k,C)=>{ee();var f=X();R(()=>F(f,v.buryNewSiblings.title)),g(k,f)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var Y=$(S,2);K(Y,{children:(I,A)=>{Ge(I,{get defaultValue(){return i.buryReviews},get value(){return t().buryReviews},set value(z){te(c,P(t).buryReviews=z,P(t))},children:(z,x)=>{re(z,{$$events:{click:()=>L(Object.keys(v).indexOf("buryReviewSiblings"))},children:(k,C)=>{ee();var f=X();R(()=>F(f,v.buryReviewSiblings.title)),g(k,f)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var G=$(Y,2);K(G,{children:(I,A)=>{Ge(I,{get defaultValue(){return i.buryInterdayLearning},get value(){return t().buryInterdayLearning},set value(z){te(c,P(t).buryInterdayLearning=z,P(t))},children:(z,x)=>{re(z,{$$events:{click:()=>L(Object.keys(v).indexOf("buryInterdayLearningSiblings"))},children:(k,C)=>{ee();var f=X();R(()=>F(f,v.buryInterdayLearningSiblings.title)),g(k,f)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),g(O,N)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(T,_)=>{var O=le(()=>Us());Xe(T,{get title(){return a(O)},get url(){return ge.Studying.siblingsAndBurying},slot:"tooltip",helpSections:p,$$events:{mount:b=>{h(m,b.detail.modal),h(d,b.detail.carousel)}}})}}}),me()}function Uc(){}var Qc=J('<hr class="dropdown-divider">');function Yc(s){var e=Qc();g(s,e)}var Kc=J('<div class="save svelte-ymxw35"> </div>'),Xc=J('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Jc=J("<!> <!> <!> <!> <!> <!> <!>",1),Zc=J('<div class="d-flex"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!> <!></div>');function ed(s,e){pe(e,!1);const r=window.getComputedStyle(document.body).direction=="rtl",t=Cr();let n=H(e,"state",8);async function o(){if(await At(),n().defaultConfigSelected()){alert(_o());return}const y=(n().removalWilLForceFullSync()?ko()+" ":"")+Po({name:n().getCurrentName()});if(confirm(Hn(y)))try{n().removeCurrentConfig(),t("remove")}catch(T){alert(T)}}async function c(y){if(await Gr(),y===bt.COMPUTE_ALL_PARAMS&&!Oe(n().fsrs)){alert(bo());return}n().save(y)}const i="Control+Enter";let l=V(!1);he();var v=Zc(),p=Q(v),m=le(()=>Vl(i));Re(p,()=>({"--border-left-radius":r?"0":"var(--border-radius)","--border-right-radius":r?"var(--border-radius)":"0"})),Bl(p.lastChild,{primary:!0,get tooltip(){return a(m)},$$events:{click:()=>c(bt.NORMAL)},children:(y,T)=>{var _=Kc(),O=Q(_,!0);R(()=>F(O,xo())),E(_),g(y,_)},$$slots:{default:!0}}),E(p);var d=$(p,2);Fl(d,{keyCombination:i,$$events:{action:()=>c(bt.NORMAL)}});var L=$(d,2);Il(L,{get show(){return a(l)},closeOnInsideClick:!0,inline:!0,$$events:{close:()=>h(l,!1)},$$slots:{reference:(y,T)=>{var _=Xc(),O=se(_);Re(O,()=>({"--border-right-radius":r?"0":"var(--border-radius)","--border-left-radius":r?"var(--border-radius)":"0"})),_l(O.lastChild,{class:"chevron",slot:"reference",iconSize:80,$$events:{click:()=>h(l,!a(l))},children:(b,N)=>{Nt(b,{icon:Nr})},$$slots:{default:!0}}),E(O),g(y,_)},floating:(y,T)=>{Dl(y,{slot:"floating",children:(_,O)=>{var b=Jc(),N=se(b);pt(N,{$$events:{click:()=>t("add")},children:(x,k)=>{ee();var C=X();R(()=>F(C,Pr())),g(x,C)},$$slots:{default:!0}});var S=$(N,2);pt(S,{$$events:{click:()=>t("clone")},children:(x,k)=>{ee();var C=X();R(()=>F(C,br())),g(x,C)},$$slots:{default:!0}});var Y=$(S,2);pt(Y,{$$events:{click:()=>t("rename")},children:(x,k)=>{ee();var C=X();R(()=>F(C,xr())),g(x,C)},$$slots:{default:!0}});var G=$(Y,2);pt(G,{$$events:{click:o},children:(x,k)=>{ee();var C=X();R(()=>F(C,So())),g(x,C)},$$slots:{default:!0}});var I=$(G,2);Yc(I);var A=$(I,2);pt(A,{$$events:{click:()=>c(bt.APPLY_TO_CHILDREN)},children:(x,k)=>{ee();var C=X();R(()=>F(C,Oo())),g(x,C)},$$slots:{default:!0}});var z=$(A,2);pt(z,{$$events:{click:()=>c(bt.COMPUTE_ALL_PARAMS)},children:(x,k)=>{ee();var C=X();R(()=>F(C,Ao())),g(x,C)},$$slots:{default:!0}}),g(_,b)},$$slots:{default:!0}})}}}),E(v),g(s,v),me()}var td=J('<div class="modal fade" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content svelte-18qg9px"><div class="modal-header"><h5 class="modal-title" id="modalLabel"> </h5> <button type="button" class="btn-close svelte-18qg9px" data-bs-dismiss="modal" aria-label="Close"></button></div> <div class="modal-body"><form><div class="mb-3"><label for="prompt-input" class="col-form-label"> </label> <input id="prompt-input" type="text" class="form-control svelte-18qg9px"></div></form></div> <div class="modal-footer"><button type="button" class="btn btn-secondary">Cancel</button> <button type="button" class="btn btn-primary">OK</button></div></div></div></div>');function sd(s,e){pe(e,!1);const r=Se(),t=()=>fe(Pl,"$pageTheme",r),n=V();let o=H(e,"title",8),c=H(e,"prompt",8),i=H(e,"initialValue",8,""),l=H(e,"onOk",8);const v=Math.random().toString(36).substring(2),p=is(Fr);let m=V(),d,L=V();function y(){l()(a(L).value),d.hide(),h(n,i())}function T(){d.hide(),h(n,i())}function _(){a(L).focus(),b(!0)}function O(){b(!1)}const{set:b,remove:N}=Ll(T);us(()=>{a(m).addEventListener("shown.bs.modal",_),a(m).addEventListener("hidden.bs.modal",O),d=new bl(a(m),{keyboard:!1}),p.set(v,d)}),Zn(()=>{N(),a(m).removeEventListener("shown.bs.modal",_),a(m).removeEventListener("hidden.bs.modal",O)}),ce(()=>Ye(i()),()=>{h(n,i())}),Fe(),he();var S=td(),Y=Q(S),G=Q(Y),I=Q(G),A=Q(I),z=Q(A,!0);E(A);var x=$(A,2);E(I);var k=$(I,2),C=Q(k),f=Q(C),w=Q(f),D=Q(w);E(w);var B=$(w,2);tt(B),St(B,j=>h(L,j),()=>a(L)),E(f),E(C),E(k);var U=$(k,2),q=Q(U),M=$(q,2);return E(U),E(G),E(Y),E(S),St(S,j=>h(m,j),()=>a(m)),R(()=>{var j;ht(G,"default-colors",t().isDark),F(z,o()),ht(x,"invert",t().isDark),F(D,`${(j=c())!=null?j:""}:`),ht(B,"nightMode",t().isDark)}),It(B,()=>a(n),j=>h(n,j)),we("submit",C,Hl(y)),we("click",q,T),we("click",M,y),g(s,S),Ie(e,"modalKey",v),me({modalKey:v})}var rd=J('<div class="button-bar svelte-1h7iokg"><!> <!></div>'),nd=J('<!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function ad(s,e){pe(e,!1);const r=Se(),t=()=>fe(i,"$configList",r),n=V(),o=V();let c=H(e,"state",8);const i=c().configList,l=Cr(),v=()=>l("presetchange");function p(k){const C=Ro({decks:k.useCount});return`${k.name} (${C})`}function m(k){c().setCurrentIndex(k.detail.value),v()}function d(k){const C=k.trim();C.length&&(c().addConfig(C),v())}function L(k){const C=k.trim();C.length&&(c().cloneConfig(C),v())}function y(k){c().setCurrentName(k)}const T=is(Fr);let _=V(),O=V(""),b=V(""),N=V(Uc);function S(){h(b,Pr()),h(N,d),h(O,""),T.get(a(_)).show()}function Y(){h(b,br()),h(N,L),h(O,c().getCurrentName()),T.get(a(_)).show()}function G(){h(b,xr()),h(N,y),h(O,c().getCurrentName()),T.get(a(_)).show()}ce(()=>t(),()=>{h(n,t().findIndex(k=>k.current))}),ce(()=>(t(),a(n)),()=>{h(o,p(t()[a(n)]))}),Fe(),he();var I=nd(),A=se(I),z=le(()=>To());sd(A,{get title(){return a(b)},get prompt(){return a(z)},get initialValue(){return a(O)},get onOk(){return a(N)},get modalKey(){return a(_)},set modalKey(k){h(_,k)},$$legacy:!0});var x=$(A,2);Re(x,()=>({"--gutter-block":"0.5rem","--sticky-borders":"0 0 1px"})),zl(x.lastChild,{breakpoint:"sm",children:(k,C)=>{var f=rd(),w=Q(f);Xn(w,{class:"flex-grow-1 mr1",get label(){return a(o)},get list(){return t()},parser:B=>({content:p(B),value:B.idx}),get value(){return a(n)},set value(B){h(n,B)},$$events:{change:m},$$legacy:!0});var D=$(w,2);ed(D,{get state(){return c()},$$events:{add:S,clone:Y,rename:G,remove:v}}),E(f),g(k,f)},$$slots:{default:!0}}),E(x),g(s,I),me()}var od=J('<li class="svelte-yjm2pe"><button class="svelte-yjm2pe"> </button></li>'),id=J('<ul class="svelte-yjm2pe"></ul>');function $r(s,e){pe(e,!1);let r=H(e,"tabs",8),t=H(e,"value",12),n=V(o());function o(){const v=r().slice().reverse().findIndex(p=>p.value!==null);return v===-1?0:r().length-v-1}function c(v){for(const[p,m]of r().entries())v===p?m.enable(t()):v>p?m.reset():m.disable()}const i=v=>()=>h(n,v);ce(()=>a(n),()=>{c(a(n))}),ce(()=>(Ye(r()),a(n)),()=>{var v;t((v=r()[a(n)].value)!=null?v:0)}),ce(()=>(Ye(r()),a(n),Ye(t())),()=>{r()[a(n)].setValue(t())}),Fe(),he();var l=id();Ft(l,5,r,ds,(v,p,m)=>{var d=od(),L=Q(d),y=Un(()=>i(m)),T=Q(L,!0);E(L),E(d),R(()=>{ht(d,"active",a(n)===m),F(T,a(p).title)}),we("click",L,function(..._){var O;(O=a(y))==null||O.apply(this,_)}),g(v,d)}),E(l),g(s,l),me()}var ld=J("<div> </div>");function Be(s,e){pe(e,!1);let r=H(e,"warning",8),t=H(e,"className",8,"alert-warning");he();var n=ze(),o=se(n);{var c=i=>{xe(i,{children:(l,v)=>{var p=ld(),m=Q(p,!0);R(()=>F(m,Bn(r()))),E(p),R(()=>{var d;return mt(p,`col-12 alert ${(d=t())!=null?d:""} mb-0`)}),rr(1,p,()=>nr),rr(2,p,()=>nr),g(l,p)},$$slots:{default:!0}})};Pe(o,i=>{r()&&i(c)})}g(s,n),me()}var ud=J("<!> <!> <!> <!> <!>",1);function cd(s,e){var w,D,B,U,q,M;pe(e,!1);const r=Se(),t=()=>fe(m,"$config",r),n=()=>fe(d,"$limits",r),o=()=>fe(y,"$newCardsIgnoreReviewLimit",r),c=()=>fe(T,"$applyAllParentLimits",r),i=V();let l=H(e,"state",8),v=H(e,"api",8);function p(){ke(S,a(S)[0]=new st(Et(),t().newPerDay,j=>te(m,P(t).newPerDay=j,P(t)),t().newPerDay,null)),ke(Y,a(Y)[0]=new st(Et(),t().reviewsPerDay,j=>te(m,P(t).reviewsPerDay=j,P(t)),t().reviewsPerDay,null))}const m=l().currentConfig,d=l().deckLimits,L=l().defaults,y=l().newCardsIgnoreReviewLimit,T=l().applyAllParentLimits,_=`

`+Io()+`

`+Do(),O=`

`+Lo()+_,b=ns()+`

`+Eo(),N=ns()+`

`+Mo(),S=V([new st(Et(),t().newPerDay,j=>te(m,P(t).newPerDay=j,P(t)),t().newPerDay,null),new st(Qs(),(w=n().new)!=null?w:null,j=>te(d,P(n).new=j!=null?j:void 0,P(n)),null,null),new st(Ys(),n().newTodayActive&&(D=n().newToday)!=null?D:null,j=>te(d,P(n).newToday=j!=null?j:void 0,P(n)),null,(B=n().newToday)!=null?B:null)]),Y=V([new st(Et(),t().reviewsPerDay,j=>te(m,P(t).reviewsPerDay=j,P(t)),t().reviewsPerDay,null),new st(Qs(),(U=n().review)!=null?U:null,j=>te(d,P(n).review=j!=null?j:void 0,P(n)),null,null),new st(Ys(),n().reviewTodayActive&&(q=n().reviewToday)!=null?q:null,j=>te(d,P(n).reviewToday=j!=null?j:void 0,P(n)),null,(M=n().reviewToday)!=null?M:null)]);let G=V(0),I=V(0);const A={newLimit:{title:Sr(),help:No()+_,url:ge.DeckOptions.newCardsday},reviewLimit:{title:Or(),help:Fo()+O,url:ge.DeckOptions.maximumReviewsday},newCardsIgnoreReviewLimit:{title:Vo(),help:b,url:ge.DeckOptions.newCardsday},applyAllParentLimits:{title:Ho(),help:N,url:ge.DeckOptions.newCardsday}},z=Object.values(A);let x=V(),k=V();function C(j){a(x).show(),a(k).to(j)}ce(()=>(a(G),a(I),lt),()=>{h(i,Math.min(9999,a(G)*10)>a(I)?Bo({cards:a(G),expected:Math.min(9999,a(G)*10)}):"")}),Fe(),he();var f=le(()=>Ks());return We(s,{get title(){return a(f)},children:(j,Z)=>{Ke(j,{slotHost:K,get api(){return v()},children:(de,ue)=>{var be=ud(),ve=se(be);K(ve,{children:(_e,qe)=>{Ne(_e,{get defaultValue(){return L.newPerDay},get value(){return a(G)},set value(Ce){h(G,Ce)},children:(Ce,De)=>{re(Ce,{$$events:{click:()=>C(Object.keys(A).indexOf("newLimit"))},children:(Ve,Ct)=>{ee();var it=X();R(()=>F(it,A.newLimit.title)),g(Ve,it)},$$slots:{default:!0}})},$$slots:{default:!0,tabs:(Ce,De)=>{$r(Ce,{slot:"tabs",get tabs(){return a(S)},get value(){return a(G)},set value(Ve){h(G,Ve)},$$legacy:!0})}},$$legacy:!0})},$$slots:{default:!0}});var ae=$(ve,2);K(ae,{children:(_e,qe)=>{Ne(_e,{get defaultValue(){return L.reviewsPerDay},get value(){return a(I)},set value(Ce){h(I,Ce)},children:(Ce,De)=>{re(Ce,{$$events:{click:()=>C(Object.keys(A).indexOf("reviewLimit"))},children:(Ve,Ct)=>{ee();var it=X();R(()=>F(it,A.reviewLimit.title)),g(Ve,it)},$$slots:{default:!0}})},$$slots:{default:!0,tabs:(Ce,De)=>{$r(Ce,{slot:"tabs",get tabs(){return a(Y)},get value(){return a(I)},set value(Ve){h(I,Ve)},$$legacy:!0})}},$$legacy:!0})},$$slots:{default:!0}});var ye=$(ae,2);K(ye,{children:(_e,qe)=>{Be(_e,{get warning(){return a(i)}})},$$slots:{default:!0}});var ot=$(ye,2);K(ot,{children:(_e,qe)=>{Ge(_e,{defaultValue:!1,get value(){return yt(),o()},set value(Ce){nt(y,Ce)},children:(Ce,De)=>{re(Ce,{$$events:{click:()=>C(Object.keys(A).indexOf("newCardsIgnoreReviewLimit"))},children:(Ve,Ct)=>{Ot(Ve,{get title(){return A.newCardsIgnoreReviewLimit.title}})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var ct=$(ot,2);K(ct,{children:(_e,qe)=>{Ge(_e,{defaultValue:!1,get value(){return yt(),c()},set value(Ce){nt(T,Ce)},children:(Ce,De)=>{re(Ce,{$$events:{click:()=>C(Object.keys(A).indexOf("applyAllParentLimits"))},children:(Ve,Ct)=>{Ot(Ve,{get title(){return A.applyAllParentLimits.title}})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),g(de,be)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(j,Z)=>{var de=le(()=>Ks());Xe(j,{get title(){return a(de)},get url(){return ge.DeckOptions.dailyLimits},slot:"tooltip",helpSections:z,$$events:{mount:ue=>{h(x,ue.detail.modal),h(k,ue.detail.carousel)}}})}}}),Ie(e,"onPresetChange",p),me({onPresetChange:p})}var dd=J("<!> <!> <!> <!> <!>",1);function fd(s,e){pe(e,!1);const r=Se(),t=()=>fe(i,"$config",r),n=()=>fe(v,"$fsrs",r);let o=H(e,"state",8),c=H(e,"api",8);const i=o().currentConfig,l=o().defaults,v=o().fsrs,p=`

`+zo();let m=V([]);const d={newGatherPriority:{title:jo(),help:Go()+p},newCardSortOrder:{title:Wo(),help:qo()+p},newReviewPriority:{title:Uo(),help:Qo()+p},interdayStepPriority:{title:Yo(),help:Ko()+p},reviewSortOrder:{title:Xo(),help:Jo()+p}},L=Object.values(d);let y=V(),T=V();function _(b){a(y).show(),a(T).to(b)}ce(()=>(t(),a(m),Je),()=>{switch(t().newCardGatherPriority){case Je.RANDOM_NOTES:h(m,[Ue.TEMPLATE_THEN_RANDOM,Ue.RANDOM_NOTE_THEN_TEMPLATE]);break;case Je.RANDOM_CARDS:h(m,[Ue.TEMPLATE_THEN_RANDOM,Ue.RANDOM_NOTE_THEN_TEMPLATE,Ue.RANDOM_CARD]);break;default:h(m,[]);break}a(m).includes(t().newCardSortOrder)&&te(i,P(t).newCardSortOrder=0,P(t)),t().newCardSortOrder in Ue||te(i,P(t).newCardSortOrder=0,P(t))}),Fe(),he();var O=le(()=>Xs());We(s,{get title(){return a(O)},children:(b,N)=>{Ke(b,{slotHost:K,get api(){return c()},children:(S,Y)=>{var G=dd(),I=se(G);K(I,{children:(C,f)=>{var w=le(Ec);et(C,{get defaultValue(){return l.newCardGatherPriority},get choices(){return a(w)},get value(){return t().newCardGatherPriority},set value(D){te(i,P(t).newCardGatherPriority=D,P(t))},children:(D,B)=>{re(D,{$$events:{click:()=>_(Object.keys(d).indexOf("newGatherPriority"))},children:(U,q)=>{ee();var M=X();R(()=>F(M,d.newGatherPriority.title)),g(U,M)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var A=$(I,2);K(A,{children:(C,f)=>{var w=le(Mc);et(C,{get defaultValue(){return l.newCardSortOrder},get choices(){return a(w)},get disabledChoices(){return a(m)},get value(){return t().newCardSortOrder},set value(D){te(i,P(t).newCardSortOrder=D,P(t))},children:(D,B)=>{re(D,{$$events:{click:()=>_(Object.keys(d).indexOf("newCardSortOrder"))},children:(U,q)=>{ee();var M=X();R(()=>F(M,d.newCardSortOrder.title)),g(U,M)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var z=$(A,2);K(z,{children:(C,f)=>{var w=le(vr);et(C,{get defaultValue(){return l.newMix},get choices(){return a(w)},get value(){return t().newMix},set value(D){te(i,P(t).newMix=D,P(t))},children:(D,B)=>{re(D,{$$events:{click:()=>_(Object.keys(d).indexOf("newReviewPriority"))},children:(U,q)=>{ee();var M=X();R(()=>F(M,d.newReviewPriority.title)),g(U,M)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var x=$(z,2);K(x,{children:(C,f)=>{var w=le(vr);et(C,{get defaultValue(){return l.interdayLearningMix},get choices(){return a(w)},get value(){return t().interdayLearningMix},set value(D){te(i,P(t).interdayLearningMix=D,P(t))},children:(D,B)=>{re(D,{$$events:{click:()=>_(Object.keys(d).indexOf("interdayStepPriority"))},children:(U,q)=>{ee();var M=X();R(()=>F(M,d.interdayStepPriority.title)),g(U,M)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var k=$(x,2);K(k,{children:(C,f)=>{var w=le(()=>Nc(n()));et(C,{get defaultValue(){return l.reviewOrder},get choices(){return a(w)},get value(){return t().reviewOrder},set value(D){te(i,P(t).reviewOrder=D,P(t))},children:(D,B)=>{re(D,{$$events:{click:()=>_(Object.keys(d).indexOf("reviewSortOrder"))},children:(U,q)=>{ee();var M=X();R(()=>F(M,d.reviewSortOrder.title)),g(U,M)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),g(S,G)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(b,N)=>{var S=le(()=>Xs());Xe(b,{get title(){return a(S)},get url(){return ge.DeckOptions.displayOrder},slot:"tooltip",helpSections:L,$$events:{mount:Y=>{h(y,Y.detail.modal),h(T,Y.detail.carousel)}}})}}}),me()}var gd=J('<textarea class="w-100"></textarea>');function vd(s,e){pe(e,!1);let r=H(e,"value",12),t=H(e,"defaults",8),n=V();function o(l){return l.map(v=>v.toFixed(4)).join(", ")}function c(){r(this.value.replace(/ /g,"").split(",").filter(l=>l).map(l=>Number(l)))}ce(()=>Ye(r()),()=>{h(n,o(r()))}),Fe(),he();var i=gd();Er(i),R(()=>He(i,"placeholder",o(t()))),R(()=>cs(i,a(n))),we("blur",i,c),g(s,i),me()}var $d=J("<!> <!>",1);function pd(s,e){let r=H(e,"value",12),t=H(e,"defaultValue",8),n=H(e,"defaults",8);var o=$d(),c=se(o);rt(c,e,"default",{});var i=$(c,2);ut(i,{children:(l,v)=>{vd(l,{get defaults(){return n()},get value(){return r()},set value(p){r(p)},$$legacy:!0})},$$slots:{default:!0,revert:(l,v)=>{Rt(l,{slot:"revert",get defaultValue(){return t()},get value(){return r()},set value(p){r(p)},$$legacy:!0})}}}),g(s,o)}var md=J('<input type="text" class="w-100 mb-1">');function hd(s,e){let r=H(e,"value",12),t=H(e,"placeholder",8);ut(s,{children:(n,o)=>{var c=md();tt(c),R(()=>He(c,"placeholder",t())),It(c,r),g(n,c)},$$slots:{default:!0}})}var Ee=(s=>(s[s.time=0]="time",s[s.count=1]="count",s[s.memorized=2]="memorized",s))(Ee||{});function ss(s,e,r,t){const n=ar(s);if(n.selectAll(".lines").remove(),n.selectAll(".hover-columns").remove(),n.selectAll(".focus-line").remove(),n.selectAll(".legend").remove(),r.length==0)return or(n,!1),[];const o=n.transition().duration(600),c=new Date,i=r.map(f=>({...f,date:new Date(c.getTime()+f.x*24*60*60*1e3)})),l=c,v=ir(i,f=>f.date),p=nu().domain([l,v]).range([e.marginLeft,e.width-e.marginRight]);n.select(".x-ticks").call(f=>f.transition(o).call(jl(p).ticks(7).tickSizeOuter(0))).attr("direction","ltr");const m=f=>t==0?es(f,!0):f.toString(),d={1:i.map(f=>({...f,y:f.count})),0:i.map(f=>({...f,y:f.timeCost})),2:i.map(f=>({...f,y:f.memorized}))}[t],L={1:Zo(),0:ei(),2:ti()}[t],y=ir(d,f=>f.y),T=Gl().range([e.height-e.marginBottom,e.marginTop]).domain([0,y]).nice();n.select(".y-ticks").call(f=>f.transition(o).call(Wl(T).ticks(e.height/50).tickSizeOuter(0).tickFormat(m))).attr("direction","ltr"),n.select(".y-ticks .y-axis-title").remove(),n.select(".y-ticks").append("text").attr("class","y-axis-title").attr("transform","rotate(-90)").attr("y",0-e.marginLeft).attr("x",0-e.height/2).attr("font-size","1rem").attr("dy","1.1em").attr("fill","currentColor").style("text-anchor","middle").text(L);const _=d.map(f=>[p(f.date),T(f.y),f.label]),O=pu(_,f=>Object.assign(f,{z:f[0][2]}),f=>f[2]),b=hu;n.append("g").attr("class","lines").attr("fill","none").attr("stroke-width",1.5).attr("stroke-linejoin","round").attr("stroke-linecap","round").selectAll("path").data(Array.from(O.entries())).join("path").attr("stroke",(f,w)=>b[w%b.length]).attr("d",f=>ql()(f[1].map(w=>[w[0],w[1]]))).attr("data-group",f=>f[0]);const N=n.append("line").attr("class","focus-line").attr("y1",e.marginTop).attr("y2",e.height-e.marginBottom).attr("stroke","black").attr("stroke-width",1).style("opacity",0),S=Array.from(O.values()).reduce((f,w)=>f.length>w.length?f:w),Y=e.width/S.length;n.append("g").attr("class","hover-columns").selectAll("rect").data(S).join("rect").attr("x",f=>f[0]-Y/2).attr("y",e.marginTop).attr("width",Y).attr("height",e.height-e.marginTop-e.marginBottom).attr("fill","transparent").on("mousemove",I).on("mouseout",()=>{N.style("opacity",0),lr()});const G={0:es,1:f=>Ar({reviews:Math.round(f)}),2:f=>ni({memorized:Math.round(f).toFixed(0)})}[t];function I(f,w){Ul(f,document.body);const D=p.invert(w[0]),B={};O.forEach((M,j)=>{const Z=Ql(be=>p.invert(be[0])).left,de=Z(M,D),ue=M[de];ue&&(B[j]=T.invert(ue[1]))}),N.attr("x1",w[0]).attr("x2",w[0]).style("opacity",1);const U=+((D.getTime()-Date.now())/(60*60*24*1e3)).toFixed();let q=`Date: ${zn(D)}<br>In ${U} Days<br>`;for(const[M,j]of Object.entries(B))n.select(`path[data-group="${M}"]`).classed("hidden")||(q+=`<span style="color:${b[(parseInt(M)-1)%b.length]}">■</span> #${M}: ${G(j)}<br>`);ur(q,f.pageX,f.pageY)}const A=n.append("g").attr("class","legend").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","start").selectAll("g").data(Array.from(O.keys())).join("g").attr("transform",(f,w)=>`translate(0,${w*20})`).attr("cursor","pointer").on("click",(f,w)=>k(f,w)).on("mousemove",x).on("mouseout",lr),z={1:ai,0:({count:f})=>es(f),2:oi}[t];function x(f,w){const D=d.filter(q=>q.label==w),B=t==2?D[D.length-1].memorized-D[0].memorized:Ku(D,q=>q.y),U=B/((D==null?void 0:D.length)||1);ur(`#${w}:<br/>
                ${si()}: ${z({count:U})}<br/>
                ${ri()}: ${G(B)}`,f.pageX,f.pageY)}A.append("rect").attr("x",e.width-e.marginRight+36).attr("width",12).attr("height",12).attr("fill",(f,w)=>b[w%b.length]),A.append("text").attr("x",e.width-e.marginRight+52).attr("y",7).attr("dy","0.3em").attr("fill","currentColor").text(f=>`#${f}`);const k=(f,w)=>{const D=w,B=n.select(`path[data-group="${D}"]`),U=B.classed("hidden"),q=f.currentTarget;B.classed("hidden",!U),B.style("display",()=>U?null:"none"),ar(q).select("rect").style("opacity",U?1:.5)};return or(n,!0),[]}var yd=J(" <!>",1),Cd=J("<div> </div>"),wd=J('<label><input type="radio"> </label> <label><input type="radio"> </label> <label><input type="radio"> </label>',1),_d=J('<div class="radio-group svelte-1wbtes9"><!></div> <svg><!><!><!><!></svg> <!>',1),kd=J('<!> <!> <div class="ms-1 me-1"><!> <!> <button><!></button> <button><!></button> <div><!></div> <!></div> <div class="m-2"><!> <!></div> <div class="m-2"><details><summary> </summary> <!> <button><!></button> <!> <!></details></div> <div class="m-2"><details><summary> </summary> <!> <!> <!> <!> <!> <button> </button> <button> </button> <!> <!></details></div>',1);function Pd(s,e){pe(e,!1);const r=Se(),t=()=>fe(z,"$daysSinceLastOptimization",r),n=()=>fe(Y,"$presetName",r),o=()=>fe(G,"$config",r),c=()=>fe(a(y),"$newCardsIgnoreReviewLimit",r),i=()=>fe(A,"$fsrsReschedule",r),l=V(),v=V(),p=V(),m=V(),d=V(),L=V(),y=V(),T=V(),_=V(),O=V(),b=[];let N=H(e,"state",8),S=H(e,"openHelpModal",8);const Y=N().currentPresetName,G=N().currentConfig,I=N().defaults,A=N().fsrsReschedule,z=N().daysSinceLastOptimization;let x=V(),k=V(!1),C=V(!1),f=V(!1),w=V(!1),D=V(0),B=V(),U=V(Ee.count);const q=V(new Rn({daysToSimulate:365,lossAversion:2.5})),M=V(new Tn({params:xt(o()),desiredRetention:o().desiredRetention,deckSize:0,daysToSimulate:365,newLimit:o().newPerDay,reviewLimit:o().reviewsPerDay,maxInterval:o().maximumReviewInterval,search:`preset:"${N().getCurrentNameForSearch()}" -is:suspended`,newCardsIgnoreReviewLimit:c()}));function j(u){const ne=Math.round(100/.23456790123456783*(Math.pow(u,1/-.5)-1));return ne===100?"":_i({days:ne})}function Z(u){return u<.7||u>.97?"alert-danger":u<.8||u>.95?"alert-warning":"alert-info"}function de(){return BigInt(o().ignoreRevlogsBeforeDate?new Date(o().ignoreRevlogsBeforeDate).getTime():0)}async function ue(){if(a(k)){await Kt({});return}if(N().presetAssignmentsChanged()){alert(Xt());return}h(k,!0),h(x,void 0);try{await Mt(async()=>{const u=xt(o()),W=await In({search:o().paramSearch?o().paramSearch:a(p),ignoreRevlogsBeforeMs:de(),currentParams:u});if(u.length&&u.every(($e,ne)=>$e.toFixed(4)===W.params[ne].toFixed(4))||W.params.length===0){const $e=W.fsrsItems?ii():li();setTimeout(()=>alert($e),200)}else te(G,P(o).fsrsParams5=W.params,P(o));a(x)&&ke(x,a(x).current=a(x).total)},u=>{u.value.case==="computeParams"&&h(x,u.value.value)})}finally{h(k,!1)}}async function be(){if(a(C)){await Kt({});return}if(N().presetAssignmentsChanged()){alert(Xt());return}h(C,!0),h(x,void 0);try{await Mt(async()=>{const u=o().paramSearch?o().paramSearch:a(p),W=await Dn({params:xt(o()),search:u,ignoreRevlogsBeforeMs:de()});a(x)&&ke(x,a(x).current=a(x).total),setTimeout(()=>alert(`Log loss: ${W.logLoss.toFixed(4)}, RMSE(bins): ${(W.rmseBins*100).toFixed(2)}%. ${ui()}`),200)},u=>{u.value.case==="computeParams"&&h(x,u.value.value)})}finally{h(C,!1)}}async function ve(){if(a(f)){await Kt({});return}if(N().presetAssignmentsChanged()){alert(Xt());return}h(f,!0),h(B,void 0);try{await Mt(async()=>{ke(q,a(q).maxInterval=o().maximumReviewInterval),ke(q,a(q).params=xt(o())),ke(q,a(q).search=`preset:"${N().getCurrentNameForSearch()}" -is:suspended`);const u=await Ln(a(q));h(D,u.optimalRetention),h(B,void 0)},u=>{u.value.case==="computeRetention"&&h(B,u.value.value)})}finally{h(f,!1)}}function ae(u){if(!u||!u.total)return"";const W=(u.current/u.total*100).toFixed(1);return u instanceof Mn?`${W}%`:ki({pct:W,reviews:u.reviews})}function ye(u){return u?Pi({count:u.current}):""}function ot(u){return u?bi({num:u.toFixed(2)}):""}let ct=V([]);const _e=V(eu());ke(_e,a(_e).marginLeft+=8);let qe=V(null),Ce=0,De=V([]);function Ve(u,W){return u.map((oe,$e)=>oe+W[$e])}async function Ct(){let u;Ce+=1;try{await Mt(async()=>{ke(M,a(M).params=xt(o())),ke(M,a(M).desiredRetention=o().desiredRetention),ke(M,a(M).search=`preset:"${N().getCurrentNameForSearch()}" -is:suspended`),ke(M,a(M).newCardsIgnoreReviewLimit=c()),h(w,!0),u=await En(a(M))},()=>{})}finally{if(h(w,!1),u){const W=Ve(u.dailyReviewCount,u.dailyNewCount),oe=u.accumulatedKnowledgeAcquisition;h(De,a(De).concat(u.dailyTimeCost.map(($e,ne)=>({x:ne,timeCost:$e,count:W[ne],memorized:oe[ne],label:Ce})))),h(ct,ss(a(qe),a(_e),a(De),a(U)))}}}function it(){h(De,a(De).filter(u=>u.label!==Ce)),Ce=Math.max(0,Ce-1),h(ct,ss(a(qe),a(_e),a(De),a(U)))}ce(()=>(t(),lt),()=>{h(l,t()>30?ci():"")}),ce(()=>n(),()=>{n()&&h(D,0)}),ce(()=>(a(k),a(C),a(f),a(w)),()=>{h(v,a(k)||a(C)||a(f)||a(w))}),ce(()=>Ye(N()),()=>{h(p,`preset:"${N().getCurrentNameForSearch()}" -is:suspended`)}),ce(()=>o(),()=>{h(m,Number(o().desiredRetention.toFixed(2)))}),ce(()=>a(m),()=>{h(d,j(a(m)))}),ce(()=>a(m),()=>{h(L,Z(a(m)))}),ce(()=>a(q),()=>{a(q).daysToSimulate>3650&&ke(q,a(q).daysToSimulate=3650)}),ce(()=>Ye(N()),()=>{kl(h(y,N().newCardsIgnoreReviewLimit),"$newCardsIgnoreReviewLimit",r)}),ce(()=>a(x),()=>{h(T,ae(a(x)))}),ce(()=>a(B),()=>{h(_,ye(a(B)))}),ce(()=>a(x),()=>{var u,W;h(O,(W=(u=a(x))==null?void 0:u.reviews)!=null?W:void 0)}),ce(()=>(a(qe),a(_e),a(De),a(U)),()=>{h(ct,ss(a(qe),a(_e),a(De),a(U)))}),Fe(),he();var $s=kd(),ps=se($s);Ze(ps,{get defaultValue(){return I.desiredRetention},min:.7,max:.99,get value(){return o().desiredRetention},set value(u){te(G,P(o).desiredRetention=u,P(o))},children:(u,W)=>{re(u,{$$events:{click:()=>S()("desiredRetention")},children:(oe,$e)=>{ee();var ne=X();R(()=>F(ne,Rr())),g(oe,ne)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var ms=$(ps,2);Be(ms,{get warning(){return a(d)},get className(){return a(L)}});var Ht=$(ms,2),hs=Q(Ht);pd(hs,{defaultValue:[],get defaults(){return I.fsrsParams5},get value(){return o().fsrsParams5},set value(u){te(G,P(o).fsrsParams5=u,P(o))},children:(u,W)=>{re(u,{$$events:{click:()=>S()("modelParams")},children:(oe,$e)=>{ee();var ne=X();R(()=>F(ne,Tr())),g(oe,ne)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var ys=$(hs,2);hd(ys,{get placeholder(){return a(p)},get value(){return o().paramSearch},set value(u){te(G,P(o).paramSearch=u,P(o))},$$legacy:!0});var dt=$(ys,2),Ur=Q(dt);{var Qr=u=>{var W=X();R(()=>F(W,Jt())),g(u,W)},Yr=u=>{var W=X();R(()=>F(W,di())),g(u,W)};Pe(Ur,u=>{a(k)?u(Qr):u(Yr,!1)})}E(dt);var ft=$(dt,2),Kr=Q(ft);{var Xr=u=>{var W=X();R(()=>F(W,Jt())),g(u,W)},Jr=u=>{var W=X();R(()=>F(W,fi())),g(u,W)};Pe(Kr,u=>{a(C)?u(Xr):u(Jr,!1)})}E(ft);var Bt=$(ft,2),Zr=Q(Bt);{var en=u=>{var W=X();R(()=>F(W,a(T))),g(u,W)},tn=u=>{var W=ze(),oe=se(W);{var $e=ne=>{var Te=X();R(()=>F(Te,Ar({reviews:a(O)}))),g(ne,Te)};Pe(oe,ne=>{a(O)!==void 0&&ne($e)},!0)}g(u,W)};Pe(Zr,u=>{a(k)||a(C)?u(en):u(tn,!1)})}E(Bt);var sn=$(Bt,2);Be(sn,{get warning(){return a(l)},className:"alert-warning"}),E(Ht);var zt=$(Ht,2),Cs=Q(zt);Ge(Cs,{defaultValue:!1,get value(){return yt(),i()},set value(u){nt(A,u)},children:(u,W)=>{re(u,{$$events:{click:()=>S()("rescheduleCardsOnChange")},children:(oe,$e)=>{var ne=le(()=>Dr());Ot(oe,{get title(){return a(ne)}})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var rn=$(Cs,2);{var nn=u=>{var W=le(()=>xi());Be(u,{get warning(){return a(W)}})};Pe(rn,u=>{i()&&u(nn)})}E(zt);var jt=$(zt,2),ws=Q(jt),Gt=Q(ws),an=Q(Gt,!0);R(()=>F(an,Ir())),E(Gt);var _s=$(Gt,2);Ne(_s,{defaultValue:365,min:1,max:3650,get value(){return a(q).daysToSimulate},set value(u){ke(q,a(q).daysToSimulate=u)},children:(u,W)=>{re(u,{$$events:{click:()=>S()("computeOptimalRetention")},children:(oe,$e)=>{ee();var ne=X();R(()=>F(ne,Js())),g(oe,ne)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var gt=$(_s,2),on=Q(gt);{var ln=u=>{var W=X();R(()=>F(W,Jt())),g(u,W)},un=u=>{var W=X();R(()=>F(W,gi())),g(u,W)};Pe(on,u=>{a(f)?u(ln):u(un,!1)})}E(gt);var ks=$(gt,2);{var cn=u=>{var W=yd(),oe=se(W);R(()=>{var Te;return F(oe,`${(Te=ot(a(D)))!=null?Te:""} `)});var $e=$(oe);{var ne=Te=>{var Dt=le(()=>Si());Be(Te,{get warning(){return a(Dt)},className:"alert-warning"})};Pe($e,Te=>{a(D)-o().desiredRetention>=.01&&Te(ne)})}g(u,W)};Pe(ks,u=>{a(D)&&u(cn)})}var dn=$(ks,2);{var fn=u=>{var W=Cd(),oe=Q(W,!0);E(W),R(()=>F(oe,a(_))),g(u,W)};Pe(dn,u=>{a(f)&&u(fn)})}E(ws),E(jt);var Ps=$(jt,2),bs=Q(Ps),Wt=Q(bs),gn=Q(Wt,!0);R(()=>F(gn,vi())),E(Wt);var xs=$(Wt,2);Ne(xs,{defaultValue:365,min:1,max:3650,get value(){return a(M).daysToSimulate},set value(u){ke(M,a(M).daysToSimulate=u)},children:(u,W)=>{re(u,{$$events:{click:()=>S()("simulateFsrsReview")},children:(oe,$e)=>{ee();var ne=X();R(()=>F(ne,Js())),g(oe,ne)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var Ss=$(xs,2);Ne(Ss,{defaultValue:0,min:0,max:1e5,get value(){return a(M).deckSize},set value(u){ke(M,a(M).deckSize=u)},children:(u,W)=>{re(u,{$$events:{click:()=>S()("simulateFsrsReview")},children:(oe,$e)=>{ee();var ne=X();R(()=>F(ne,$i())),g(oe,ne)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var Os=$(Ss,2);Ne(Os,{get defaultValue(){return o().newPerDay},min:0,max:9999,get value(){return a(M).newLimit},set value(u){ke(M,a(M).newLimit=u)},children:(u,W)=>{re(u,{$$events:{click:()=>S()("simulateFsrsReview")},children:(oe,$e)=>{ee();var ne=X();R(()=>F(ne,Sr())),g(oe,ne)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var As=$(Os,2);Ne(As,{get defaultValue(){return o().reviewsPerDay},min:0,max:9999,get value(){return a(M).reviewLimit},set value(u){ke(M,a(M).reviewLimit=u)},children:(u,W)=>{re(u,{$$events:{click:()=>S()("simulateFsrsReview")},children:(oe,$e)=>{ee();var ne=X();R(()=>F(ne,Or())),g(oe,ne)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var Rs=$(As,2);Ne(Rs,{get defaultValue(){return o().maximumReviewInterval},min:1,max:36500,get value(){return a(M).maxInterval},set value(u){ke(M,a(M).maxInterval=u)},children:(u,W)=>{re(u,{$$events:{click:()=>S()("simulateFsrsReview")},children:(oe,$e)=>{ee();var ne=X();R(()=>F(ne,_r())),g(oe,ne)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var vt=$(Rs,2),vn=Q(vt,!0);R(()=>F(vn,pi())),E(vt);var $t=$(vt,2),$n=Q($t,!0);R(()=>F($n,mi())),E($t);var Ts=$($t,2);{var pn=u=>{var W=X();R(()=>F(W,hi())),g(u,W)};Pe(Ts,u=>{a(w)&&u(pn)})}var mn=$(Ts,2);Yl(mn,{children:(u,W)=>{var oe=_d(),$e=se(oe),ne=Q($e);Kl(ne,{children:(qt,tf)=>{var Ls=wd(),Ut=se(Ls),wt=Q(Ut);tt(wt);var Es,Cn=$(wt);R(()=>{var Le;return F(Cn,` ${(Le=yi())!=null?Le:""}`)}),E(Ut);var Qt=$(Ut,2),_t=Q(Qt);tt(_t);var Ms,wn=$(_t);R(()=>{var Le;return F(wn,` ${(Le=Ci())!=null?Le:""}`)}),E(Qt);var Ns=$(Qt,2),kt=Q(Ns);tt(kt);var Fs,_n=$(kt);R(()=>{var Le;return F(_n,` ${(Le=wi())!=null?Le:""}`)}),E(Ns),R(()=>{Es!==(Es=Ee.count)&&(wt.value=(wt.__value=Ee.count)==null?"":Ee.count),Ms!==(Ms=Ee.time)&&(_t.value=(_t.__value=Ee.time)==null?"":Ee.time),Fs!==(Fs=Ee.memorized)&&(kt.value=(kt.__value=Ee.memorized)==null?"":Ee.memorized)}),Zt(b,[],wt,()=>(Ee.count,a(U)),Le=>h(U,Le)),Zt(b,[],_t,()=>(Ee.time,a(U)),Le=>h(U,Le)),Zt(b,[],kt,()=>(Ee.memorized,a(U)),Le=>h(U,Le)),g(qt,Ls)},$$slots:{default:!0}}),E($e);var Te=$($e,2),Dt=Q(Te);lu(Dt);var Is=$(Dt);Xl(Is);var Ds=$(Is);Jl(Ds,{get bounds(){return a(_e)}});var hn=$(Ds);Zl(hn,{get bounds(){return a(_e)}}),E(Te),St(Te,qt=>h(qe,qt),()=>a(qe));var yn=$(Te,2);uu(yn,{get tableData(){return a(ct)}}),R(()=>He(Te,"viewBox",`0 0 ${a(_e).width} ${a(_e).height}`)),g(u,oe)},$$slots:{default:!0}}),E(bs),E(Ps),R(()=>{var u,W,oe,$e,ne;mt(dt,`btn ${(u=a(k)?"btn-warning":"btn-primary")!=null?u:""}`),dt.disabled=!a(k)&&a(v),mt(ft,`btn ${(W=a(C)?"btn-warning":"btn-primary")!=null?W:""}`),ft.disabled=!a(C)&&a(v),mt(gt,`btn ${(oe=a(f)?"btn-warning":"btn-primary")!=null?oe:""}`),gt.disabled=!a(f)&&a(v),mt(vt,`btn ${($e=a(v)?"btn-warning":"btn-primary")!=null?$e:""}`),vt.disabled=a(v),mt($t,`btn ${(ne=a(v)?"btn-warning":"btn-primary")!=null?ne:""}`),$t.disabled=a(v)}),we("click",dt,()=>ue()),we("click",ft,()=>be()),we("click",gt,()=>ve()),we("click",vt,()=>Ct()),we("click",$t,()=>it()),g(s,$s),me()}var bd=J("<!> <!>",1);function xd(s,e){pe(e,!1);const r=Se(),t=()=>fe(c,"$fsrs",r);let n=H(e,"state",8),o=H(e,"api",8);const c=n().fsrs,i={fsrs:{title:"FSRS",help:Oi(),url:ge.DeckOptions.fsrs},desiredRetention:{title:Rr(),help:Ai(),sched:Me.FSRS},modelParams:{title:Tr(),help:Ri()+`

`+Ti(),sched:Me.FSRS},rescheduleCardsOnChange:{title:Dr(),help:Ii(),sched:Me.FSRS},computeOptimalRetention:{title:Ir(),help:Di(),sched:Me.FSRS}},l=Object.values(i);let v=V(),p=V();function m(d){a(v).show(),a(p).to(d)}he(),We(s,{title:"FSRS",children:(d,L)=>{Ke(d,{slotHost:K,get api(){return o()},children:(y,T)=>{var _=bd(),O=se(_);K(O,{children:(S,Y)=>{Ge(S,{defaultValue:!1,get value(){return yt(),t()},set value(G){nt(c,G)},children:(G,I)=>{re(G,{$$events:{click:()=>m(Object.keys(i).indexOf("fsrs"))},children:(A,z)=>{Ot(A,{get title(){return i.fsrs.title}})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var b=$(O,2);{var N=S=>{Pd(S,{get state(){return n()},openHelpModal:Y=>m(Object.keys(i).indexOf(Y))})};Pe(b,S=>{t()&&S(N)})}g(y,_)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(d,L)=>{Xe(d,{title:"FSRS",get url(){return ge.DeckOptions.fsrs},slot:"tooltip",get fsrs(){return t()},helpSections:l,$$events:{mount:y=>{h(v,y.detail.modal),h(p,y.detail.carousel)}}})}}}),me()}function Sd(s,e){pe(e,!1);let r=H(e,"html",8),t=H(e,"mounted",8);us(t()),he();var n=ze(),o=se(n);Li(o,r,!1,!1),g(s,n),me()}function Od(s){switch(s){case Qe.Seconds:return"s";case Qe.Minutes:return"m";case Qe.Hours:return"h";case Qe.Days:return"d";default:return""}}function Ad(s){switch(s){case"s":return Qe.Seconds;case"h":return Qe.Hours;case"d":return Qe.Days;default:return Qe.Minutes}}function Rd(s){const e=s*60;let r=tu(e);return[Qe.Months,Qe.Years].includes(r)&&(r=Qe.Days),`${Math.round(su(r,e))}${Od(r)}`}function Td(s){const e=s.match(/(\d+)(.*)/);if(e){const[r,t,n]=e,o=Ad(n),c=ru(o)*parseInt(t,10);return Math.min(c,2**31)/60}else return 0}function Id(s){return s.map(Rd).join(" ")}function Dd(s){return s.split(" ").map(Td).filter(e=>e)}var Ld=J('<input type="text" class="svelte-f5c9s0">');function Ed(s,e){pe(e,!1);let r=H(e,"value",12),t=V();function n(){r(Dd(this.value))}ce(()=>Ye(r()),()=>{h(t,Id(r()))}),Fe(),he();var o=Ld();tt(o),R(()=>cs(o,a(t))),we("blur",o,n),g(s,o),me()}var Md=J('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Nd=J('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function qr(s,e){let r=H(e,"value",12),t=H(e,"defaultValue",8);var n=Nd(),o=se(n);Re(o,()=>({"--cols":13})),xe(o.lastChild,{children:(c,i)=>{var l=Md(),v=se(l);Re(v,()=>({"--col-size":7})),at(v.lastChild,{breakpoint:"xs",children:(m,d)=>{var L=ze(),y=se(L);rt(y,e,"default",{}),g(m,L)},$$slots:{default:!0}}),E(v);var p=$(v,2);Re(p,()=>({"--col-size":6})),at(p.lastChild,{breakpoint:"xs",children:(m,d)=>{ut(m,{children:(L,y)=>{Ed(L,{get value(){return r()},set value(T){r(T)},$$legacy:!0})},$$slots:{default:!0,revert:(L,y)=>{Rt(L,{slot:"revert",get defaultValue(){return t()},get value(){return r()},set value(T){r(T)},$$legacy:!0})}}})},$$slots:{default:!0}}),E(p),g(c,l)},$$slots:{default:!0}}),E(o),g(s,n)}var Fd=J("<!> <!> <!> <!> <!> <!>",1);function Vd(s,e){pe(e,!1);const r=Se(),t=()=>fe(i,"$config",r),n=()=>fe(v,"$fsrs",r);let o=H(e,"state",8),c=H(e,"api",24,()=>({}));const i=o().currentConfig,l=o().defaults,v=o().fsrs;let p=V(),m=V();const d={relearningSteps:{title:Ei(),help:Mi(),url:ge.DeckOptions.relearningSteps},minimumInterval:{title:Ni(),help:Fi(),url:ge.DeckOptions.minimumInterval,sched:Me.SM2},leechThreshold:{title:Vi(),help:Hi(),url:ge.Leeches.leeches},leechAction:{title:Bi(),help:zi(),url:ge.Leeches.waiting}},L=Object.values(d);let y=V(),T=V();function _(b){a(y).show(),a(T).to(b)}ce(()=>(t(),n(),lt),()=>{const b=t().relearnSteps.length?t().relearnSteps[t().relearnSteps.length-1]/60/24:0;h(p,!n()&&b>t().minimumLapseInterval?ji():""),h(m,n()&&b>=1?Lr():"")}),Fe(),he();var O=le(()=>Zs());We(s,{get title(){return a(O)},children:(b,N)=>{Ke(b,{slotHost:K,get api(){return c()},children:(S,Y)=>{var G=Fd(),I=se(G);K(I,{children:(w,D)=>{qr(w,{get defaultValue(){return l.relearnSteps},get value(){return t().relearnSteps},set value(B){te(i,P(t).relearnSteps=B,P(t))},children:(B,U)=>{re(B,{$$events:{click:()=>_(Object.keys(d).indexOf("relearningSteps"))},children:(q,M)=>{ee();var j=X();R(()=>F(j,d.relearningSteps.title)),g(q,j)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var A=$(I,2);K(A,{children:(w,D)=>{Be(w,{get warning(){return a(m)}})},$$slots:{default:!0}});var z=$(A,2);{var x=w=>{K(w,{children:(D,B)=>{Ne(D,{get defaultValue(){return l.minimumLapseInterval},min:1,get value(){return t().minimumLapseInterval},set value(U){te(i,P(t).minimumLapseInterval=U,P(t))},children:(U,q)=>{re(U,{$$events:{click:()=>_(Object.keys(d).indexOf("minimumInterval"))},children:(M,j)=>{ee();var Z=X();R(()=>F(Z,d.minimumInterval.title)),g(M,Z)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}})};Pe(z,w=>{n()||w(x)})}var k=$(z,2);K(k,{children:(w,D)=>{Be(w,{get warning(){return a(p)}})},$$slots:{default:!0}});var C=$(k,2);K(C,{children:(w,D)=>{Ne(w,{get defaultValue(){return l.leechThreshold},min:1,get value(){return t().leechThreshold},set value(B){te(i,P(t).leechThreshold=B,P(t))},children:(B,U)=>{re(B,{$$events:{click:()=>_(Object.keys(d).indexOf("leechThreshold"))},children:(q,M)=>{ee();var j=X();R(()=>F(j,d.leechThreshold.title)),g(q,j)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var f=$(C,2);K(f,{children:(w,D)=>{var B=le(Fc);et(w,{get defaultValue(){return l.leechAction},get choices(){return a(B)},breakpoint:"md",get value(){return t().leechAction},set value(U){te(i,P(t).leechAction=U,P(t))},children:(U,q)=>{re(U,{$$events:{click:()=>_(Object.keys(d).indexOf("leechAction"))},children:(M,j)=>{ee();var Z=X();R(()=>F(Z,d.leechAction.title)),g(M,Z)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),g(S,G)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(b,N)=>{var S=le(()=>Zs());Xe(b,{get title(){return a(S)},get url(){return ge.DeckOptions.lapses},slot:"tooltip",get fsrs(){return n()},helpSections:L,$$events:{mount:Y=>{h(y,Y.detail.modal),h(T,Y.detail.carousel)}}})}}}),me()}var Hd=J("<!> <!> <!> <!>",1),Bd=J("<!> <!> <!> <!> <!>",1);function zd(s,e){pe(e,!1);const r=Se(),t=()=>fe(v,"$config",r),n=()=>fe(m,"$fsrs",r),o=V(),c=V();let i=H(e,"state",8),l=H(e,"api",24,()=>({}));const v=i().currentConfig,p=i().defaults,m=i().fsrs;let d=V(),L=V();const y={learningSteps:{title:Gi(),help:Wi(),url:ge.DeckOptions.learningSteps},graduatingInterval:{title:qi(),help:Ui(),url:ge.DeckOptions.graduatingInterval,sched:Me.SM2},easyInterval:{title:Qi(),help:Yi(),url:ge.DeckOptions.easyInterval,sched:Me.SM2},insertionOrder:{title:Ki(),help:Xi(),url:ge.DeckOptions.insertionOrder}},T=Object.values(y);let _=V(),O=V();function b(S){a(_).show(),a(O).to(S)}ce(()=>(t(),n()),()=>{const S=t().learnSteps.length?t().learnSteps[t().learnSteps.length-1]/60/24:0;h(d,S>t().graduatingIntervalGood?Ji():""),h(L,n()&&S>=1?Lr():"")}),ce(()=>(t(),lt),()=>{h(o,t().graduatingIntervalGood>t().graduatingIntervalEasy?Zi():"")}),ce(()=>(t(),lt),()=>{h(c,t().newCardInsertOrder==rs.RANDOM?el():"")}),Fe(),he();var N=le(()=>er());We(s,{get title(){return a(N)},children:(S,Y)=>{Ke(S,{slotHost:K,get api(){return l()},children:(G,I)=>{var A=Bd(),z=se(A);K(z,{children:(D,B)=>{qr(D,{get defaultValue(){return p.learnSteps},get value(){return t().learnSteps},set value(U){te(v,P(t).learnSteps=U,P(t))},children:(U,q)=>{re(U,{$$events:{click:()=>b(Object.keys(y).indexOf("learningSteps"))},children:(M,j)=>{ee();var Z=X();R(()=>F(Z,y.learningSteps.title)),g(M,Z)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var x=$(z,2);K(x,{children:(D,B)=>{Be(D,{get warning(){return a(L)}})},$$slots:{default:!0}});var k=$(x,2);{var C=D=>{var B=Hd(),U=se(B);K(U,{children:(Z,de)=>{Ne(Z,{get defaultValue(){return p.graduatingIntervalGood},get value(){return t().graduatingIntervalGood},set value(ue){te(v,P(t).graduatingIntervalGood=ue,P(t))},children:(ue,be)=>{re(ue,{$$events:{click:()=>b(Object.keys(y).indexOf("graduatingInterval"))},children:(ve,ae)=>{ee();var ye=X();R(()=>F(ye,y.graduatingInterval.title)),g(ve,ye)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var q=$(U,2);K(q,{children:(Z,de)=>{Be(Z,{get warning(){return a(d)}})},$$slots:{default:!0}});var M=$(q,2);K(M,{children:(Z,de)=>{Ne(Z,{get defaultValue(){return p.graduatingIntervalEasy},get value(){return t().graduatingIntervalEasy},set value(ue){te(v,P(t).graduatingIntervalEasy=ue,P(t))},children:(ue,be)=>{re(ue,{$$events:{click:()=>b(Object.keys(y).indexOf("easyInterval"))},children:(ve,ae)=>{ee();var ye=X();R(()=>F(ye,y.easyInterval.title)),g(ve,ye)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var j=$(M,2);K(j,{children:(Z,de)=>{Be(Z,{get warning(){return a(o)}})},$$slots:{default:!0}}),g(D,B)};Pe(k,D=>{n()||D(C)})}var f=$(k,2);K(f,{children:(D,B)=>{var U=le(Vc);et(D,{get defaultValue(){return p.newCardInsertOrder},get choices(){return a(U)},breakpoint:"md",get value(){return t().newCardInsertOrder},set value(q){te(v,P(t).newCardInsertOrder=q,P(t))},children:(q,M)=>{re(q,{$$events:{click:()=>b(Object.keys(y).indexOf("insertionOrder"))},children:(j,Z)=>{ee();var de=X();R(()=>F(de,y.insertionOrder.title)),g(j,de)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var w=$(f,2);K(w,{children:(D,B)=>{Be(D,{get warning(){return a(c)}})},$$slots:{default:!0}}),g(G,A)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(S,Y)=>{var G=le(()=>er());Xe(S,{get title(){return a(G)},get url(){return ge.DeckOptions.newCards},slot:"tooltip",helpSections:T,get fsrs(){return n()},$$events:{mount:I=>{h(_,I.detail.modal),h(O,I.detail.carousel)}}})}}}),me()}var jd=J('<div class="show-timer-switch" style="display: contents;"><!></div>'),Gd=J('<div class="show-timer-switch" style="display: contents;"><!></div>'),Wd=J("<!> <!> <!> <!>",1);function qd(s,e){pe(e,!1);const r=Se(),t=()=>fe(i,"$config",r),n=V();let o=H(e,"state",8),c=H(e,"api",8);const i=o().currentConfig,l=o().defaults,v={maximumAnswerSecs:{title:tl(),help:sl()},showAnswerTimer:{title:rl(),help:nl()},stopTimerOnAnswer:{title:al(),help:ol()}},p=Object.values(v);let m=V(),d=V();function L(T){a(m).show(),a(d).to(T)}ce(()=>(t(),lt),()=>{h(n,t().capAnswerTimeToSecs>600?il():"")}),Fe(),he();var y=le(()=>tr());We(s,{get title(){return a(y)},children:(T,_)=>{Ke(T,{slotHost:K,get api(){return c()},children:(O,b)=>{var N=Wd(),S=se(N);K(S,{children:(A,z)=>{Ne(A,{get defaultValue(){return l.capAnswerTimeToSecs},min:1,max:7200,get value(){return t().capAnswerTimeToSecs},set value(x){te(i,P(t).capAnswerTimeToSecs=x,P(t))},children:(x,k)=>{re(x,{$$events:{click:()=>L(Object.keys(v).indexOf("maximumAnswerSecs"))},children:(C,f)=>{ee();var w=X();R(()=>F(w,v.maximumAnswerSecs.title)),g(C,w)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var Y=$(S,2);K(Y,{children:(A,z)=>{Be(A,{get warning(){return a(n)}})},$$slots:{default:!0}});var G=$(Y,2);K(G,{children:(A,z)=>{var x=jd(),k=Q(x);Ge(k,{get defaultValue(){return l.showTimer},get value(){return t().showTimer},set value(C){te(i,P(t).showTimer=C,P(t))},children:(C,f)=>{re(C,{$$events:{click:()=>L(Object.keys(v).indexOf("showAnswerTimer"))},children:(w,D)=>{ee();var B=X();R(()=>F(B,v.showAnswerTimer.title)),g(w,B)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0}),E(x),g(A,x)},$$slots:{default:!0}});var I=$(G,2);K(I,{children:(A,z)=>{var x=Gd(),k=Q(x);Ge(k,{get defaultValue(){return l.stopTimerOnAnswer},get value(){return t().stopTimerOnAnswer},set value(C){te(i,P(t).stopTimerOnAnswer=C,P(t))},children:(C,f)=>{re(C,{$$events:{click:()=>L(Object.keys(v).indexOf("stopTimerOnAnswer"))},children:(w,D)=>{ee();var B=X();R(()=>F(B,v.stopTimerOnAnswer.title)),g(w,B)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0}),E(x),g(A,x)},$$slots:{default:!0}}),g(O,N)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(T,_)=>{var O=le(()=>tr());Xe(T,{get title(){return a(O)},get url(){return ge.DeckOptions.timer},slot:"tooltip",helpSections:p,$$events:{mount:b=>{h(m,b.detail.modal),h(d,b.detail.carousel)}}})}}}),me()}var Ud=J('<tr><td class="svelte-1puqew1"> </td><td colspan="3" class="svelte-1puqew1"><input type="range" list="easy_day_steplist" class="svelte-1puqew1"></td></tr>'),Qd=J('<div class="easy-days-settings svelte-1puqew1"><table class="svelte-1puqew1"><thead><tr><th class="svelte-1puqew1"></th><th colspan="3" class="svelte-1puqew1"><div class="header svelte-1puqew1"><span class="svelte-1puqew1"> </span> <span class="svelte-1puqew1"> </span> <span class="svelte-1puqew1"> </span></div></th></tr></thead><tbody></tbody></table></div>'),Yd=J("<!> <!>",1),Kd=J('<datalist id="easy_day_steplist"><option>0.5</option></datalist> <!>',1);function Xd(s,e){pe(e,!1);const r=Se(),t=()=>fe(i,"$config",r),n=V();let o=H(e,"state",8),c=H(e,"api",8);const i=o().currentConfig,l=o().defaults,v=[ll(),ul(),cl(),dl(),fl(),gl(),vl()];ce(()=>t(),()=>{t().easyDaysPercentages.length!==7&&te(i,P(t).easyDaysPercentages=l.easyDaysPercentages.slice(),P(t))}),ce(()=>(t(),lt),()=>{h(n,t().easyDaysPercentages.some(L=>L===1)?"":$l())}),Fe(),he();var p=Kd(),m=$(se(p),2),d=le(()=>yl());We(m,{get title(){return a(d)},children:(L,y)=>{Ke(L,{slotHost:K,get api(){return c()},children:(T,_)=>{var O=Yd(),b=se(O);K(b,{children:(S,Y)=>{var G=Qd(),I=Q(G),A=Q(I),z=Q(A),x=$(Q(z)),k=Q(x),C=Q(k),f=Q(C,!0);R(()=>F(f,pl())),E(C);var w=$(C,2),D=Q(w,!0);R(()=>F(D,ml())),E(w);var B=$(w,2),U=Q(B,!0);R(()=>F(U,hl())),E(B),E(k),E(x),E(z),E(A);var q=$(A);Ft(q,5,()=>v,ds,(M,j,Z)=>{var de=Ud(),ue=Q(de),be=Q(ue,!0);E(ue);var ve=$(ue),ae=Q(ve);tt(ae),He(ae,"step",.5),He(ae,"max",1),He(ae,"min",0),E(ve),E(de),R(()=>F(be,a(j))),It(ae,()=>t().easyDaysPercentages[Z],ye=>te(i,P(t).easyDaysPercentages[Z]=ye,P(t))),g(M,de)}),E(q),E(I),E(G),g(S,G)},$$slots:{default:!0}});var N=$(b,2);K(N,{children:(S,Y)=>{Be(S,{get warning(){return a(n)}})},$$slots:{default:!0}}),g(T,O)},$$slots:{default:!0}})},$$slots:{default:!0}}),g(s,p),me()}var Jd=J("<div><!> <!> <!> <!> <!></div> <div><!> <!> <!> <!> <!> <!> <!></div>",1),Zd=J('<!> <div class="deck-options-page svelte-htbfcn"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></div>',1);function ef(s,e){pe(e,!1);const r=Se(),t=()=>fe(o,"$addons",r);let n=H(e,"state",8);const o=n().addonComponents;function c(){return n().currentAuxData}function i(A){nt(o,[...t(),A])}function l(A,z){nt(o,[...t(),{component:Sd,html:A,mounted:z}])}const v={},p={},m={},d={},L={},y={},T={},_={},O={},b={};let N=V();he();var S=Zd(),Y=se(S);ad(Y,{get state(){return n()},$$events:{presetchange(...A){var z;(z=a(N))==null||z.apply(this,A)}}});var G=$(Y,2),I=Q(G);return Re(I,()=>({"--gutter-inline":"0.25rem","--gutter-block":"0.75rem"})),wl(I.lastChild,{breakpoint:"sm",class:"container-columns",children:(A,z)=>{var x=Jd(),k=se(x),C=Q(k);xe(C,{class:"row-columns",children:(ae,ye)=>{cd(ae,{get state(){return n()},api:p,get onPresetChange(){return a(N)},set onPresetChange(ot){h(N,ot)},$$legacy:!0})},$$slots:{default:!0}});var f=$(C,2);xe(f,{class:"row-columns",children:(ae,ye)=>{zd(ae,{get state(){return n()},api:m})},$$slots:{default:!0}});var w=$(f,2);xe(w,{class:"row-columns",children:(ae,ye)=>{Vd(ae,{get state(){return n()},api:d})},$$slots:{default:!0}});var D=$(w,2);xe(D,{class:"row-columns",children:(ae,ye)=>{fd(ae,{get state(){return n()},api:y})},$$slots:{default:!0}});var B=$(D,2);xe(B,{class:"row-columns",children:(ae,ye)=>{xd(ae,{get state(){return n()},api:{}})},$$slots:{default:!0}}),E(k);var U=$(k,2),q=Q(U);xe(q,{class:"row-columns",children:(ae,ye)=>{qc(ae,{get state(){return n()},api:L})},$$slots:{default:!0}});var M=$(q,2);xe(M,{class:"row-columns",children:(ae,ye)=>{Lc(ae,{get state(){return n()},api:_})},$$slots:{default:!0}});var j=$(M,2);xe(j,{class:"row-columns",children:(ae,ye)=>{qd(ae,{get state(){return n()},api:T})},$$slots:{default:!0}});var Z=$(j,2);xe(Z,{class:"row-columns",children:(ae,ye)=>{Gc(ae,{get state(){return n()},api:T})},$$slots:{default:!0}});var de=$(Z,2);{var ue=ae=>{xe(ae,{class:"row-columns",children:(ye,ot)=>{tc(ye,{get state(){return n()}})},$$slots:{default:!0}})};Pe(de,ae=>{t().length&&ae(ue)})}var be=$(de,2);xe(be,{class:"row-columns",children:(ae,ye)=>{Xd(ae,{get state(){return n()},api:b})},$$slots:{default:!0}});var ve=$(be,2);xe(ve,{class:"row-columns",children:(ae,ye)=>{Ic(ae,{get state(){return n()},api:O})},$$slots:{default:!0}}),E(U),g(A,x)},$$slots:{default:!0}}),E(I),E(G),g(s,S),Ie(e,"auxData",c),Ie(e,"addSvelteAddon",i),Ie(e,"addHtmlAddon",l),Ie(e,"options",v),Ie(e,"dailyLimits",p),Ie(e,"newOptions",m),Ie(e,"lapseOptions",d),Ie(e,"buryOptions",L),Ie(e,"displayOrder",y),Ie(e,"timerOptions",T),Ie(e,"audioOptions",_),Ie(e,"advancedOptions",O),Ie(e,"easyDays",b),me({auxData:c,addSvelteAddon:i,addHtmlAddon:l,options:v,dailyLimits:p,newOptions:m,lapseOptions:d,buryOptions:L,displayOrder:y,timerOptions:T,audioOptions:_,advancedOptions:O,easyDays:b})}function Ff(s,e){pe(e,!1);let r=H(e,"data",8),t=V();globalThis.anki||(globalThis.anki={}),globalThis.anki.deckOptionsPendingChanges=async()=>{await Gr(),(!await r().state.isModified()||confirm(Cl()))&&Nn({})},us(()=>{globalThis.$deckOptions=new Promise((n,o)=>{n(a(t))}),r().state.resolveOriginalConfigs(),Fn({})}),he(),St(ef(s,{get state(){return r().state},$$legacy:!0}),n=>h(t,n),()=>a(t)),me()}export{Ff as component,Nf as universal};
