# automatically generated by auxilium
{% include 'base_arg.jinja2' -%}
FROM {{ opts.base | default("python:"~aux.python_project.minimal_version~"-slim-bullseye", true) }}

ENV PYTHONUNBUFFERED 1
ENV DEBIAN_FRONTEND noninteractive

{% include 'apt_install.jinja2' -%}
{% include 'extra_script.jinja2' -%}

# create non-root-user
RUN addgroup --gid 5000 container
RUN useradd --create-home --uid 5000 --gid 5000 --shell /bin/bash container
ENV PATH=$PATH:/home/container/.local/bin
USER container:container
WORKDIR /home/container

{% include 'pip_install.jinja2' -%}

{% include 'ansible_deploy.jinja2' -%}
{% block custom %}{% endblock %}
