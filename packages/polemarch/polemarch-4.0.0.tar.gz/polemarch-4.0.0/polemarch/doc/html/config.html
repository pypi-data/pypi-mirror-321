<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Configuration manual &mdash; Polemarch 4.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" href="_static/basic.css" type="text/css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=3304f9e4"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="GUI workflow" href="gui.html" />
    <link rel="prev" title="Installation" href="quickstart.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #343131" >
<a href="/#" class="icon icon-home"> Polemarch
</a>
  <div class="version">
    4.0.0
  </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Home</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Configuration manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#project-architecture">Project architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="#polemarch-clustering-overview">Polemarch clustering overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#main-settings">Main settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#database-settings">Database settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cache-settings">Cache settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#locks-settings">Locks settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#session-cache-settings">Session cache settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rpc-settings">Rpc settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#worker-settings">Worker settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#web-settings">Web settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#centrifugo-client-settings">Centrifugo client settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#git-settings">Git settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#archive-settings">Archive settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#history-output-plugins">History output plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="#production-web-settings">Production web settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#inventory-plugins-config">Inventory plugins config</a></li>
<li class="toctree-l2"><a class="reference internal" href="#execution-plugins-config">Execution plugins config</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="gui.html">GUI workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="contribute.html">How to participate</a></li>
<li class="toctree-l1"><a class="reference internal" href="cla.html">VST Consulting contributor agreement</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #343131" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Polemarch</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Configuration manual</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/config.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="configuration-manual">
<h1>Configuration manual<a class="headerlink" href="#configuration-manual" title="Link to this heading"></a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h2>
<p>Default installation is suitable for most simple and common cases, but
Polemarch is highly configurable system. If you need something more advanced
(scalability, dedicated DB, custom cache, logging or directories) you can
always configure Polemarch deeply by tweaking <code class="docutils literal notranslate"><span class="pre">/etc/polemarch/settings.ini</span></code>.</p>
<p>This manual does not have purpose to describe all possible configuration
options in details because <code class="docutils literal notranslate"><span class="pre">settings.ini</span></code> has commentary for every option
which makes clear its purpose and possible values. But here is a brief overview
of the most important settings to make clear for you big picture: what you can
actually customize in Polemarch.</p>
<p>We advice you to read <a class="reference internal" href="#cluster"><span class="std std-ref">Polemarch clustering overview</span></a> if you want to setup cluster of
Polemarch nodes to maintain reliability or speedup things. It will give you
understanding of services, which are included into Polemarch and how to distribute them
between the nodes to reach your goal.</p>
</section>
<section id="project-architecture">
<h2>Project architecture<a class="headerlink" href="#project-architecture" title="Link to this heading"></a></h2>
<p>Polemarch was created to adapt to any work environment. Almost every service can be easily replaced by another
without losing any functionality. The application architecture consists of the following elements:</p>
<ul class="simple">
<li><p><strong>Database</strong> supports all types and versions that django can. The code was written to be vendor agnostic
to support as many backends as possible. Database contains information about projects settings, schedule and templates
of tasks, execution history, authorisation data, etc. Database performance is a key performance limitation of the entire Polemarch.</p></li>
<li><p><strong>Cache</strong> services is used for store session data, services locks, etc. Also, PM support all of Django can.
Mostly, we recommend to use Redis in small and medium clusters.</p></li>
<li><p><strong>MQ</strong> or rpc engine is required for notifying celery worker about new task execution request.
Redis in most cases can process up to 1000 executions/min. For more complex and high-load implementations,
it is recommended to use a distributed RabbitMQ cluster. If technically possible,
AWS SQS and its compatible counterparts from other cloud providers are also supported.</p></li>
<li><p><strong>Centrifugo</strong> (optional) is used for active user interaction. At this point,
the service notifies the user of an update or change to the data structure that the user is viewing to complete
a data update request. This reduces the load on the database, because without this service,
the interface makes periodic requests on a timer.</p></li>
<li><p><strong>Project storage</strong> at now is directory in filesystem where PM clone or unarchive project files for further executions.
Storage must be readable for web-server and writeable for celery worker. It can be mounted dir from shared storage.</p></li>
</ul>
<p>Understanding what services the Polemarch application consists of, you can build any architecture of services
suitable for the circumstances and infrastructure.</p>
</section>
<section id="polemarch-clustering-overview">
<span id="cluster"></span><h2>Polemarch clustering overview<a class="headerlink" href="#polemarch-clustering-overview" title="Link to this heading"></a></h2>
<p>Polemarch actually consists of two services: web-server and worker. Polemarch
uses worker for long-running tasks (such as <code class="docutils literal notranslate"><span class="pre">ansible-playbook</span></code> runs, repo
synchronizations and so on). Those services are designed as systemd services
you can control using regular distro-tools for service manipulation.
You can run more than one server with those services. In default configuration
those services uses local file system to keep data and exchange with each
other, but for multiple nodes they must be configured to use shared
client-server database, cache server and network filesystem (for multiple
workers). All those settings are described in appropriate sections of this
documentation. It is up to you to make sure that configuration identical on
every node to prevent discordant behaviour of nodes. If you have multiple
web-servers, don’t forget to setup HAProxy or something similar for balancing
load between them.</p>
<p>Lets assume, that you want to create 2 servers with web-part of Polemarch
to maintain reliability of your admin-panel and 4 servers with workers to
prevent denial for service because of overloading. Then briefly (it is mostly
example than general howto) you must do such steps:</p>
<ol class="arabic">
<li><p>Install Polemarch from PyPI at every server with worker and web-server by
<a class="reference internal" href="quickstart.html"><span class="doc">installation instructions</span></a>. We recommend to install virtual
environment in <code class="docutils literal notranslate"><span class="pre">/opt/polemarch</span></code> and set as owner user <code class="docutils literal notranslate"><span class="pre">polemarch</span></code>
(need to be created).</p></li>
<li><p>Setup some network filesystem (NFS, Samba, GlusterFS, Ceph).
NFS, for example. Mount it in the same directory
of all worker-intended nodes. Write this directory in <a class="reference internal" href="#main"><span class="std std-ref">Main settings</span></a>.
Example:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[main]</span>
<span class="na">projects_dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">/mnt/mystorage/projects</span>
<span class="na">hooks_dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">/mnt/mystorage/hooks</span>
</pre></div>
</div>
</li>
<li><p>Setup some http-balancer. HAProxy, for example. Point it to web-intended
nodes.</p>
<blockquote>
<div><div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>You can setup ssl for Polemarch endpoints in this step.</p>
</div>
</div></blockquote>
</li>
<li><p>Create polemarch systemd service:</p>
<ol class="arabic">
<li><p>Firstly, create a file <code class="docutils literal notranslate"><span class="pre">/etc/systemd/system/polemarch.service</span></code>:</p>
<blockquote>
<div><div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[Unit]</span>
<span class="na">Description</span><span class="o">=</span><span class="s">Polemarch Service HTTP Server</span>
<span class="na">After</span><span class="o">=</span><span class="s">network.target remote-fs.target nss-lookup.target redis.service mysql.service</span>

<span class="k">[Service]</span>
<span class="na">Type</span><span class="o">=</span><span class="s">simple</span>
<span class="na">ExecStart</span><span class="o">=</span><span class="s">/opt/polemarch/bin/polemarchctl web --nomigrate</span>
<span class="na">ExecReload</span><span class="o">=</span><span class="s">/bin/kill -HUP $MAINPID</span>
<span class="na">ExecStop</span><span class="o">=</span><span class="s">/bin/kill -SIGTERM $MAINPID</span>
<span class="na">WorkingDirectory</span><span class="o">=</span><span class="s">/opt/polemarch</span>
<span class="na">User</span><span class="o">=</span><span class="s">polemarch</span>
<span class="na">Group</span><span class="o">=</span><span class="s">polemarch</span>
<span class="na">KillSignal</span><span class="o">=</span><span class="s">SIGTERM</span>
<span class="na">Restart</span><span class="o">=</span><span class="s">always</span>
<span class="na">RestartSec</span><span class="o">=</span><span class="s">5</span>

<span class="c1"># Uncomment this if used privileged ports</span>
<span class="c1"># Capabilities=CAP_NET_BIND_SERVICE+ep</span>
<span class="c1"># AmbientCapabilities=CAP_NET_BIND_SERVICE</span>

<span class="k">[Install]</span>
<span class="na">WantedBy</span><span class="o">=</span><span class="s">multi-user.target</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Notice, that user and group ‘polemarch’ should exist in your system.
If they don’t exist, create them.</p>
</div>
</div></blockquote>
</li>
<li><p>Reload systemctl daemon:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>systemctl<span class="w"> </span>daemon-reload
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Add polemarch.service to autoload:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>polemarch.service
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Start polemarch.service:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># migrate database data</span>
/opt/polemarch/bin/polemarchctl<span class="w"> </span>migrate
<span class="c1"># then start service</span>
systemctl<span class="w"> </span>start<span class="w"> </span>polemarch.service
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Repeat all steps in other nodes and connect them to one DB, cache, MQ and storage.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>You don’t need migrate database on each node. This need only once when
you install/update first node in cluster.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Don’t forget to stop all Polemarch services when update polemarch package.</p>
</div>
</div></blockquote>
</li>
</ol>
</li>
</ol>
<p>That’s it.</p>
</section>
<section id="main-settings">
<span id="main"></span><h2>Main settings<a class="headerlink" href="#main-settings" title="Link to this heading"></a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[main]</span></code>.</p>
<p>This section is for settings related to whole Polemarch (both worker and
web). Here you can specify verbosity level of Polemarch during work, which can
be useful for troubleshoot problems (logging level etc). Also there are settings
for changing of timezone for whole app and directory where Polemarch will store
ansible projects cloned from repositories.</p>
<p>If you want to use LDAP protocol, you should create next settings in section <code class="docutils literal notranslate"><span class="pre">[main]</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ldap-server<span class="w"> </span><span class="o">=</span><span class="w"> </span>ldap://server-ip-or-host:port
ldap-default-domain<span class="w"> </span><span class="o">=</span><span class="w"> </span>domain.name
ldap-auth_format<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">cn</span><span class="o">=</span>&lt;username&gt;,ou<span class="o">=</span>your-group-name,&lt;domain&gt;
</pre></div>
</div>
<p>ldap-default-domain is an optional argument, that is aimed to make user authorization easier
(without input of domain name).</p>
<p>ldap-auth_format is an optional argument, that is aimed to customize LDAP authorization request.
Default value: cn=&lt;username&gt;,&lt;domain&gt;</p>
<p>So in this case authorization logic will be the following:</p>
<ol class="arabic simple">
<li><p>System checks combination of login:password in database;</p></li>
<li><p>System checks combination of login:password in LDAP:</p>
<ul class="simple">
<li><p>if domain was mentioned, it will be set during authorization
(if user enter login without <code class="docutils literal notranslate"><span class="pre">user&#64;domain.name</span></code> or without <code class="docutils literal notranslate"><span class="pre">DOMAIN\user</span></code> );</p></li>
<li><p>if authorization was successful and there is user with mentioned login in database,
server creates session for him.</p></li>
</ul>
</li>
</ol>
<ul class="simple">
<li><p><strong>debug</strong> - Enable debug mode. <code class="docutils literal notranslate"><span class="pre">Default:</span> <span class="pre">false</span></code>.</p></li>
<li><p><strong>allowed_hosts</strong> - Comma separated list of domains, which allowed to serve. <code class="docutils literal notranslate"><span class="pre">Default:</span> <span class="pre">*</span></code>.</p></li>
<li><p><strong>ldap-server</strong> - LDAP server connection.</p></li>
<li><p><strong>ldap-default-domain</strong> - Default domain for auth.</p></li>
<li><p><strong>timezone</strong> - Timezone of web-application. <code class="docutils literal notranslate"><span class="pre">Default:</span> <span class="pre">UTC</span></code>.</p></li>
<li><p><strong>log_level</strong> - Logging level. <code class="docutils literal notranslate"><span class="pre">Default:</span> <span class="pre">WARNING</span></code>.</p></li>
<li><p><strong>projects_dir</strong> - Path to the directory where projects will be stored. During project
synchronization, this directory will be used to save project files. Moreover, whenever a plugin
is launched within a project, the contents of this directory will be copied for isolated
execution. This directory must be in a shared file storage accessible to both the web server
and worker nodes.</p></li>
<li><p><strong>hooks_dir</strong> - Path where hook scripts stored.</p></li>
<li><p><strong>community_projects_url</strong> - A URL pointing to a YAML file that contains a structured set of
links for project templates. <code class="docutils literal notranslate"><span class="pre">Default:</span> <span class="pre">https://gitlab.com/vstconsulting/polemarch-community-repos/raw/master/projects.yaml</span></code>.</p></li>
<li><p><strong>community_projects_fetching_timeout</strong> - Maximum server response time for fetching the list
of project templates.</p></li>
<li><p><strong>executor_path</strong> - Path to the <code class="docutils literal notranslate"><span class="pre">polemarch-ansible</span></code> binary. You can implement your own script
that introduces the necessary adjustments for your environment, for example, launching in a
chroot environment, using some predefined parameters, or running inside a separate virtual
environment. It is important that it correctly implements all the existing <cite>pm_ansible</cite>
commands.</p></li>
<li><p><strong>enable_django_logs</strong> - Enable or disable Django logger to output. Useful for debugging. <code class="docutils literal notranslate"><span class="pre">Default:</span> <span class="pre">false</span></code>.</p></li>
<li><p><strong>enable_user_self_remove</strong> - Enable or disable user self-removing. <code class="docutils literal notranslate"><span class="pre">Default:</span> <span class="pre">false</span></code>.</p></li>
<li><p><strong>auth-cache-user</strong> - Enable or disable user instance caching. It increases session performance
on each request but saves model instance in unsafe storage (default django cache).
The instance is serialized to a string using the <a class="reference external" href="https://docs.python.org/3.11/library/pickle.html#module-pickle" title="(in Python v3.11)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">standard</span> <span class="pre">python</span> <span class="pre">module</span> <span class="pre">pickle</span></code></a>
and then encrypted with <a class="extlink-wiki reference external" href="https://en.wikipedia.org/wiki/Vigenère cipher">Vigenère cipher</a>.
Read more in the <a class="reference external" href="https://vstutils.vstconsulting.net/en/stable/backend.html#vstutils.utils.SecurePickling" title="(in VST Utils v5.12.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">vstutils.utils.SecurePickling</span></code></a> documentation. <code class="docutils literal notranslate"><span class="pre">Default:</span> <span class="pre">false</span></code>.</p></li>
</ul>
</section>
<section id="database-settings">
<span id="database"></span><h2>Database settings<a class="headerlink" href="#database-settings" title="Link to this heading"></a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[database]</span></code>.</p>
<p>Here you can change settings related to database system, which Polemarch will
use. Polemarch supports all databases supported by <code class="docutils literal notranslate"><span class="pre">django</span></code>. List of
supported out of the box: SQLite (default choice), MySQL, Oracle, or
PostgreSQL. Configuration details you can look at
<a class="extlink-django_docs reference external" href="https://docs.djangoproject.com/en/4.1/ref/settings/#databases">Django database documentation</a>.
If you run Polemarch at multiple nodes (clusterization), you should
use some of client-server database (SQLite not suitable) shared for all nodes.</p>
<p>If you use MySQL there is a list of required settings, that you should create for correct
database work.</p>
<p>Firstly, if you use MariaDB and you have set timezone different from “UTC” you should run
next command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mysql_tzinfo_to_sql<span class="w"> </span>/usr/share/zoneinfo<span class="w"> </span><span class="p">|</span><span class="w"> </span>mysql<span class="w"> </span>-u<span class="w"> </span>root<span class="w"> </span>-p<span class="w"> </span>mysql
</pre></div>
</div>
<p>Secondly, for correct MariaDB work you should set next options in <code class="docutils literal notranslate"><span class="pre">settings.ini</span></code> file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>database.options<span class="o">]</span>
<span class="nv">connect_timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span>
<span class="nv">init_command</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>SET<span class="w"> </span><span class="nv">sql_mode</span><span class="o">=</span><span class="s1">&#39;STRICT_TRANS_TABLES&#39;</span>,<span class="w"> </span><span class="nv">default_storage_engine</span><span class="o">=</span>INNODB,<span class="w"> </span>NAMES<span class="w"> </span><span class="s1">&#39;utf8&#39;</span>,<span class="w"> </span>CHARACTER<span class="w"> </span>SET<span class="w"> </span><span class="s1">&#39;utf8&#39;</span>,<span class="w"> </span>SESSION<span class="w"> </span><span class="nv">collation_connection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;utf8_unicode_ci&#39;</span>
</pre></div>
</div>
<p>Finally, you should add some options to MariaDB configuration:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>client<span class="o">]</span>
default-character-set<span class="o">=</span>utf8
<span class="nv">init_command</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>SET<span class="w"> </span><span class="nv">collation_connection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>@@collation_database

<span class="o">[</span>mysqld<span class="o">]</span>
character-set-server<span class="o">=</span>utf8
collation-server<span class="o">=</span>utf8_unicode_ci
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can find more database options in <a class="reference external" href="https://vstutils.vstconsulting.net/en/stable/config.html#database" title="(in VST Utils v5.12.3)"><span>Databases settings</span></a>.</p>
</div>
<p>To simplify the configuration of database connections, you can use the <code class="docutils literal notranslate"><span class="pre">DATABASE_URL</span></code> environment variable in conjunction with the <code class="docutils literal notranslate"><span class="pre">django-environ</span></code> package.
This approach allows you to define your database connection in a single environment variable,
which is especially useful for managing different environments (development, testing, production) without changing the code.</p>
<p><strong>DATABASE_URL</strong> - An environment variable that contains the database connection URL.
This variable is parsed by <code class="docutils literal notranslate"><span class="pre">django-environ</span></code> to configure the database settings. The format of the URL is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>backend://user:password@host:port/database_name
</pre></div>
</div>
<p><strong>Examples:</strong></p>
<ul>
<li><p><strong>PostgreSQL:</strong></p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">DATABASE_URL</span><span class="o">=</span>postgres://user:password@localhost:5432/mydatabase
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>MySQL:</strong></p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">DATABASE_URL</span><span class="o">=</span>mysql://user:password@localhost:3306/mydatabase
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="cache-settings">
<span id="cache"></span><h2>Cache settings<a class="headerlink" href="#cache-settings" title="Link to this heading"></a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[cache]</span></code>.</p>
<p>This section is for settings related to cache backend used by Polemarch.
Polemarch supports all cache backends that Django supports.
Currently is: filesystem, in-memory, memcached out of the box and many more by
additional plugins. You can find details about cache configuration at
<a class="extlink-django_docs reference external" href="https://docs.djangoproject.com/en/4.1/ref/settings/#caches">Django caches documentation</a>.
In clusterization scenario we advice to share cache between nodes to speedup their
work using client-server cache realizations.
We recommend to use Redis in production environments.</p>
<p>To simplify the configuration of cache backends, you can use the <code class="docutils literal notranslate"><span class="pre">CACHE_URL</span></code> environment variable in conjunction with the <code class="docutils literal notranslate"><span class="pre">django-environ</span></code> package.
This approach allows you to define your cache configuration in a single environment variable,
making it easy to switch between different cache backends without changing the code.</p>
<p><strong>CACHE_URL</strong> - An environment variable that contains the cache backend connection URL.
This variable is parsed by django-environ to configure the cache settings in Django.
The format of the URL is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>backend://username:password@host:port
</pre></div>
</div>
<p><strong>Examples:</strong></p>
<ul>
<li><p>Memcached using MemcacheCache backend</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">CACHE_URL</span><span class="o">=</span>memcache://127.0.0.1:11211
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Memcached using PyLibMCCache backend</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">CACHE_URL</span><span class="o">=</span>pymemcache://127.0.0.1:11211
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Redis cache</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">CACHE_URL</span><span class="o">=</span>redis://127.0.0.1:6379/1
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
<p><strong>LOCKS_CACHE_URL</strong>, <strong>SESSIONS_CACHE_URL</strong>, <strong>ETAG_CACHE_URL</strong> - Environment variables for configuring specific cache backends for locks, session data, and ETag caching respectively.
These allow you to use different cache configurations for different purposes within your application.</p>
</section>
<section id="locks-settings">
<span id="locks"></span><h2>Locks settings<a class="headerlink" href="#locks-settings" title="Link to this heading"></a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[locks]</span></code>.</p>
<p>Locks is system that Polemarch uses to prevent damage from parallel actions
working on something simultaneously. It is based on Django cache, so there is
another bunch of same settings as <a class="reference internal" href="quickstart.html#cache"><span class="std std-ref">Cache</span></a>. And why there is another
section for them, you may ask. Because cache backend used for locking must
provide some guarantees, which does not required to usual cache: it MUST
be shared for all Polemarch threads and nodes. So, in-memory backend, for
example, is not suitable. In case of clusterization we strongly recommend
to use Redis or Memcached as backend for that purpose. Cache and locks backend
can be same, but don’t forget about requirement we said above.</p>
</section>
<section id="session-cache-settings">
<span id="session"></span><h2>Session cache settings<a class="headerlink" href="#session-cache-settings" title="Link to this heading"></a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[session]</span></code>.</p>
<p>Polemarch store sessions in <a class="reference internal" href="#database"><span class="std std-ref">Database settings</span></a>, but for better performance,
we use a cache-based session backend. It is based on Django cache, so there is
another bunch of same settings as <a class="reference internal" href="quickstart.html#cache"><span class="std std-ref">Cache</span></a>. By default,
settings getted from <a class="reference internal" href="quickstart.html#cache"><span class="std std-ref">Cache</span></a>.</p>
</section>
<section id="rpc-settings">
<span id="rpc"></span><h2>Rpc settings<a class="headerlink" href="#rpc-settings" title="Link to this heading"></a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[rpc]</span></code>.</p>
<p>Polemarch uses Celery for long-running tasks (such as <code class="docutils literal notranslate"><span class="pre">ansible-playbook</span></code>
runs, repo synchronizations and so on). Celery is based on message queue concept,
so between web-service and workers running under Celery bust be some kind of
message broker (RabbitMQ or something).  Those settings relate to this broker
and Celery itself. Those kinds of settings: broker backend, number of
worker-processes per node and some settings used for troubleshoot
server-broker-worker interaction problems.</p>
<ul class="simple">
<li><p><strong>connection</strong> - Celery broker connection.
Read more: <a class="reference external" href="https://docs.celeryq.dev/en/latest/userguide/configuration.html#conf-broker-settings" title="(in Celery v5.5)"><span>Broker Settings</span></a>. <code class="docutils literal notranslate"><span class="pre">Default:</span> <span class="pre">filesystem:///var/tmp</span></code>.</p></li>
<li><p><strong>concurrency</strong> - Celery count worker threads. <code class="docutils literal notranslate"><span class="pre">Default:</span> <span class="pre">4</span></code>.</p></li>
<li><p><strong>heartbeat</strong> - Interval between sending heartbeat packages, which says that connection still alive. <code class="docutils literal notranslate"><span class="pre">Default:</span> <span class="pre">10</span></code>.</p></li>
<li><p><strong>enable_worker</strong> - Enable or disable worker with webserver. <code class="docutils literal notranslate"><span class="pre">Default:</span> <span class="pre">true</span></code>.</p></li>
<li><p><strong>clone_retry_count</strong> - Retries count on project sync operation.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can find more RPC options in <a class="reference external" href="https://vstutils.vstconsulting.net/en/stable/config.html#rpc" title="(in VST Utils v5.12.3)"><span>Rpc settings</span></a>.</p>
</div>
</section>
<section id="worker-settings">
<span id="worker"></span><h2>Worker settings<a class="headerlink" href="#worker-settings" title="Link to this heading"></a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[worker]</span></code>.</p>
<p>Celery worker options for start. Useful settings:</p>
<ul class="simple">
<li><p><strong>loglevel</strong> - Celery worker logging level. Default: from main section <code class="docutils literal notranslate"><span class="pre">log_level</span></code>.</p></li>
<li><p><strong>autoscale</strong> - Options for autoscaling. Two comma separated numbers: max,min.</p></li>
<li><p><strong>beat</strong> - Enable or disable celery beat scheduler. <code class="docutils literal notranslate"><span class="pre">Default:</span> <span class="pre">true</span></code>.</p></li>
</ul>
<p>Other settings can be getted from command <code class="docutils literal notranslate"><span class="pre">celery</span> <span class="pre">worker</span> <span class="pre">--help</span></code>.</p>
</section>
<section id="web-settings">
<span id="web"></span><h2>Web settings<a class="headerlink" href="#web-settings" title="Link to this heading"></a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[web]</span></code>.</p>
<p>Here placed settings related to web-server.</p>
<ul class="simple">
<li><p><strong>session_timeout</strong> - Session life-cycle time. <code class="docutils literal notranslate"><span class="pre">Default:</span> <span class="pre">2w</span></code> (two weeks).</p></li>
<li><p><strong>rest_page_limit</strong> - Default limit of objects in API list. <code class="docutils literal notranslate"><span class="pre">Default:</span> <span class="pre">1000</span></code>.</p></li>
<li><p><strong>history_metrics_window</strong> - Timeframe in seconds of collecting execution history statuses. <code class="docutils literal notranslate"><span class="pre">Default:</span> <span class="pre">1min</span></code>.</p></li>
<li><p><strong>enable_gravatar</strong> - Enable/disable gravatar service using for users. Default: <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>gravatar_url</strong> - URL for Gravatar service. Placeholder <cite>[email_hash]</cite> can be used.</p></li>
<li><p><strong>allow_cors</strong> - Enable Cross-Origin Resource Sharing (CORS).
When set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, the application will accept requests from origins other than its own domain, which is necessary when the API is accessed from different domains.
This setting corresponds to enabling <code class="docutils literal notranslate"><span class="pre">CORSMiddleware</span></code> in FastAPI. Default: <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>cors_allowed_origins</strong> - A list of origins that are allowed to make cross-origin requests.
This corresponds to the <code class="docutils literal notranslate"><span class="pre">allow_origins</span></code> parameter in <code class="docutils literal notranslate"><span class="pre">fastapi.middleware.cors.CORSMiddleware</span></code>.
Each origin should be a string representing a domain, e.g., <code class="docutils literal notranslate"><span class="pre">https://example.com</span></code>.
Wildcards like <code class="docutils literal notranslate"><span class="pre">*</span></code> are accepted to allow all origins. Default: <code class="docutils literal notranslate"><span class="pre">*</span></code> if <code class="docutils literal notranslate"><span class="pre">allow_cors</span></code> is set or empty list set.</p></li>
<li><p><strong>cors_allow_methods</strong> - A list of HTTP methods that are allowed when making cross-origin requests.
This corresponds to the <code class="docutils literal notranslate"><span class="pre">allow_methods</span></code> parameter in <code class="docutils literal notranslate"><span class="pre">CORSMiddleware</span></code>.
By specifying this, you control which HTTP methods are permitted for CORS requests to your application.
Common methods include <code class="docutils literal notranslate"><span class="pre">GET</span></code>, <code class="docutils literal notranslate"><span class="pre">POST</span></code>, <code class="docutils literal notranslate"><span class="pre">PUT</span></code>, <code class="docutils literal notranslate"><span class="pre">PATCH</span></code>, <code class="docutils literal notranslate"><span class="pre">DELETE</span></code>, and <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code>.
Default: <code class="docutils literal notranslate"><span class="pre">GET</span></code> if <code class="docutils literal notranslate"><span class="pre">allow_cors</span></code> is not set. Else - <code class="docutils literal notranslate"><span class="pre">GET</span></code>.</p></li>
<li><p><strong>cors_allow_headers</strong> - A list of HTTP headers that are allowed when making cross-origin requests.
This corresponds to the <code class="docutils literal notranslate"><span class="pre">allow_headers</span></code> parameter in <code class="docutils literal notranslate"><span class="pre">CORSMiddleware</span></code>.
Use this setting to specify which HTTP headers are allowed in CORS requests.
Common headers include <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code>, <code class="docutils literal notranslate"><span class="pre">Authorization</span></code>, etc.
Default: <code class="docutils literal notranslate"><span class="pre">*</span></code> if <code class="docutils literal notranslate"><span class="pre">allow_cors</span></code> is set or empty list set.</p></li>
<li><p><strong>cors_allowed_credentials</strong> - Indicate that cookies and authorization headers should be supported for cross-origin requests.
Default: <code class="docutils literal notranslate"><span class="pre">true</span></code> if allow_cors else <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>case_sensitive_api_filter</strong> - Enable or disable case-sensitive search for name filtering in the API.
When set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, filters applied to fields such as <code class="docutils literal notranslate"><span class="pre">name</span></code> will be case-sensitive,
meaning that the search will distinguish between uppercase and lowercase letters.
When set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, the search will be case-insensitive.
Adjust this setting based on whether you want users to have case-sensitive searches.
Default: <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p><strong>secure_proxy_ssl_header_name</strong> - Header name which activates SSL urls in responses.
Read <a class="extlink-django_docs reference external" href="https://docs.djangoproject.com/en/4.1/ref/settings/#secure-proxy-ssl-header">more</a>. Default: <code class="docutils literal notranslate"><span class="pre">HTTP_X_FORWARDED_PROTOCOL</span></code>.</p></li>
<li><p><strong>secure_proxy_ssl_header_value</strong> - Header value which activates SSL urls in responses.
Read <a class="extlink-django_docs reference external" href="https://docs.djangoproject.com/en/4.1/ref/settings/#secure-proxy-ssl-header">more</a>. Default: <code class="docutils literal notranslate"><span class="pre">https</span></code>.</p></li>
<li><p><strong>max_custom_oauth2_token_lifetime_days</strong> - The maximum possible duration of user tokens in days.
This limitation is not related to <code class="docutils literal notranslate"><span class="pre">server_token_expires_in</span></code>. It specifies the maximum lifespan of user tokens specifically.
By default, it is set to 365 days.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can find more Web options in <a class="reference external" href="https://vstutils.vstconsulting.net/en/stable/config.html#web" title="(in VST Utils v5.12.3)"><span>Web settings</span></a>.</p>
</div>
<p>Section <code class="docutils literal notranslate"><span class="pre">[oauth]</span></code>.</p>
<ul class="simple">
<li><p><strong>server_allow_insecure</strong>: If enabled then server will allow HTTP requests. Default: <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>server_token_expires_in</strong>: Token expiration time in seconds. Duration values can be used, for example <code class="docutils literal notranslate"><span class="pre">3d2h32m</span></code>. Default: <code class="docutils literal notranslate"><span class="pre">864000</span></code>.</p></li>
</ul>
</section>
<section id="centrifugo-client-settings">
<span id="centrifugo"></span><h2>Centrifugo client settings<a class="headerlink" href="#centrifugo-client-settings" title="Link to this heading"></a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[centrifugo]</span></code>.</p>
<p>To install app with centrifugo client, <code class="docutils literal notranslate"><span class="pre">[centrifugo]</span></code> section must be set.
Centrifugo is used by application to auto-update page data.
When user change some data, other clients get notification on <code class="docutils literal notranslate"><span class="pre">subscriptions_update</span></code> channel
with model label and primary key. Without the service all GUI-clients get page data
every 5 seconds (by default). Centrifugo server v3 is supported.</p>
<ul class="simple">
<li><p><strong>address</strong> - Centrifugo api address. For example, <code class="docutils literal notranslate"><span class="pre">http://localhost:8000/api</span></code>.</p></li>
<li><p><strong>public_address</strong> - Centrifugo server address. By default used <strong>address</strong> without <code class="docutils literal notranslate"><span class="pre">/api</span></code> prefix (http -&gt; ws, https -&gt; wss). Also, can be used relative path, like <code class="docutils literal notranslate"><span class="pre">/centrifugo</span></code>.</p></li>
<li><p><strong>api_key</strong> - API key for clients.</p></li>
<li><p><strong>token_hmac_secret_key</strong> - API key for jwt-token generation.</p></li>
<li><p><strong>timeout</strong> - Connection timeout.</p></li>
<li><p><strong>verify</strong> - Connection verification.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These settings also add parameters to the OpenApi schema and change how the auto-update system works in the GUI.
<code class="docutils literal notranslate"><span class="pre">token_hmac_secret_key</span></code> is used for jwt-token generation (based on
session expiration time). Token will be used for Centrifugo-JS client.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">api_key</span></code> and <code class="docutils literal notranslate"><span class="pre">token_hmac_secret_key</span></code> come from <code class="docutils literal notranslate"><span class="pre">config.json</span></code> for Centrifugo.
Read more in <a class="reference external" href="https://centrifugal.dev/docs/3/getting-started/quickstart">Official Centrifugo documentation</a></p>
</div>
</section>
<section id="git-settings">
<span id="git"></span><h2>Git settings<a class="headerlink" href="#git-settings" title="Link to this heading"></a></h2>
<p>Sections <code class="docutils literal notranslate"><span class="pre">[git.fetch]</span></code> and <code class="docutils literal notranslate"><span class="pre">[git.clone]</span></code>.</p>
<p>Options for git commands. See options in <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span> <span class="pre">--help</span></code> or <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">--help</span></code>.</p>
</section>
<section id="archive-settings">
<span id="archive"></span><h2>Archive settings<a class="headerlink" href="#archive-settings" title="Link to this heading"></a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[archive]</span></code>.</p>
<p>Here you can specify settings used by archive (e.g. TAR) projects.</p>
<ul class="simple">
<li><p><strong>max_content_length</strong> - Maximum download file size. Format: <code class="docutils literal notranslate"><span class="pre">30&lt;unit&gt;</span></code>, where unit is <em>b</em>, <em>kb</em>, <em>mb</em>, <em>gb</em>, <em>tb</em>.</p></li>
</ul>
</section>
<section id="history-output-plugins">
<span id="history"></span><h2>History output plugins<a class="headerlink" href="#history-output-plugins" title="Link to this heading"></a></h2>
<p>Section <code class="docutils literal notranslate"><span class="pre">[history]</span></code></p>
<p>This section of the configuration provides to configure the output history plugin settings.</p>
<ul class="simple">
<li><p><strong>output_plugins</strong> - a comma-separated list of plugin names that are used to record history lines. Plugins must have the <code class="docutils literal notranslate"><span class="pre">writeable</span></code> attribute. Default: <code class="docutils literal notranslate"><span class="pre">database</span></code></p></li>
<li><p><strong>read_plugin</strong> - the name of the plugin used to display the history lines in the api. Default is <code class="docutils literal notranslate"><span class="pre">database</span></code>.</p></li>
</ul>
<p>Other parameters are set in the plugin options section: <code class="docutils literal notranslate"><span class="pre">history.plugin.PLUGIN_NAME.options</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Be careful. The reader plugin must be able to read the data.
Therefore, the storage from which the reading plugin takes data must be filled with one of the writer plugins.</p>
</div>
</section>
<section id="production-web-settings">
<h2>Production web settings<a class="headerlink" href="#production-web-settings" title="Link to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>More settings in <a class="reference external" href="https://www.uvicorn.org/settings/#production">uvicorn docs</a>.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In production, it is recommended to use Centrifugo in order to reduce the load on the backend from automatic page updates.</p>
</div>
<p>This section contains additional information for configure additional elements.</p>
<p>#. If you need to set <code class="docutils literal notranslate"><span class="pre">https</span></code> for your web settings, you can do it using HAProxy, Nginx or configure it in
<code class="docutils literal notranslate"><span class="pre">settings.ini</span></code>.</p>
<blockquote>
<div><div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># [uvicorn]</span>
<span class="c1"># ssl_keyfile = /etc/polemarch/polemarch.key</span>
<span class="c1"># ssl_certfile = /etc/polemarch/polemarch.crt</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple">
<li><p>We strictly do not recommend running the web server from root. Use HTTP proxy to run on privileged ports.</p></li>
<li><p>We recommend to install <code class="docutils literal notranslate"><span class="pre">uvloop</span></code> to your environment and setup <code class="docutils literal notranslate"><span class="pre">loop</span> <span class="pre">=</span> <span class="pre">uvloop</span></code> in <code class="docutils literal notranslate"><span class="pre">[uvicorn]</span></code> section for performance reasons.</p></li>
</ol>
<p>In the context of vstutils, the adoption of <code class="docutils literal notranslate"><span class="pre">uvloop</span></code> is paramount for optimizing the performance of the application, especially because utilizing <code class="docutils literal notranslate"><span class="pre">uvicorn</span></code> as the ASGI server.
<code class="docutils literal notranslate"><span class="pre">uvloop</span></code> is an ultra-fast, drop-in replacement for the default event loop provided by Python.
It is built on top of <code class="docutils literal notranslate"><span class="pre">libuv</span></code>, a high-performance event loop library, and is specifically designed to optimize the execution speed of asynchronous code.</p>
<p>By leveraging <code class="docutils literal notranslate"><span class="pre">uvloop</span></code>, developers can achieve substantial performance improvements in terms of reduced latency and increased throughput.
This is especially critical in scenarios where applications handle a large number of concurrent connections.
The improved efficiency of event loop handling directly translates to faster response times and better overall responsiveness of the application.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you need more options you can find it in <a class="reference external" href="https://vstutils.vstconsulting.net/en/stable/config.html" title="(in VST Utils v5.12.3)"><span>Configuration manual</span></a> in the official vstutils documentation.</p>
</div>
</section>
<section id="inventory-plugins-config">
<span id="id1"></span><h2>Inventory plugins config<a class="headerlink" href="#inventory-plugins-config" title="Link to this heading"></a></h2>
<p>To connect an inventory plugin to Polemarch, there should be a section</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[inventory.plugin.&lt;plugin_name&gt;]</span>
<span class="na">backend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">import.path.to.plugin.Class</span>
</pre></div>
</div>
<p>Where</p>
<ul class="simple">
<li><p><strong>&lt;plugin_name&gt;</strong> - name that will be available in API to work with</p></li>
<li><p><strong>backend</strong> - is a python import path to plugin class</p></li>
</ul>
<p>Also you may add options which will be available in plugin:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[inventory.plugin.&lt;plugin_name&gt;.options]</span>
<span class="na">some_option</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">some_option</span>
</pre></div>
</div>
<p>To read more about plugins, please see <a class="reference internal" href="plugins.html"><span class="doc">Plugins</span></a>.</p>
</section>
<section id="execution-plugins-config">
<span id="id2"></span><h2>Execution plugins config<a class="headerlink" href="#execution-plugins-config" title="Link to this heading"></a></h2>
<p>To connect an execution plugin to Polemarch, there should be a section</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[execution.plugin.&lt;plugin_name&gt;]</span>
<span class="na">backend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">import.path.to.plugin.Class</span>
<span class="na">compatible_inventory_plugins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&lt;inventory_plugin1&gt;,&lt;inventory_plugin1&gt;</span>
</pre></div>
</div>
<p>Where</p>
<ul class="simple">
<li><p><strong>&lt;plugin_name&gt;</strong> - name that will be available in API to work with</p></li>
<li><p><strong>backend</strong> - is a python import path to plugin class</p></li>
<li><dl class="simple">
<dt><strong>compatible_inventory_plugins</strong> - inventory plugins which are compatible with this execution plugin. If omitted,</dt><dd><p>it’s supposed that execution plugin cannot work with any inventory.</p>
</dd>
</dl>
</li>
</ul>
<p>Also you may add options which will be available in plugin:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[execution.plugin.&lt;plugin_name&gt;.options]</span>
<span class="na">some_option</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">some_option</span>
</pre></div>
</div>
<p>To read more about plugins, please see <a class="reference internal" href="plugins.html"><span class="doc">Plugins</span></a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="quickstart.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="gui.html" class="btn btn-neutral float-right" title="GUI workflow" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright VST Consulting, 2019-2025.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>