# Copyright 2025 Cloudera, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

[project]
name = "cloudera-assist"
description = "A CLI tool for managing credentials and executing playbooks for Cloudera demonstrations, workshops, and tutorials."
license = "Apache-2.0"
license-files = [
  "LICENSE",
]
authors = [
    { name = "Cloudera, Inc.", email = "cloudera-labs@cloudera.com" },
]
keywords = [
    "cloudera",
    "cdp",
    "ansible-navigator",
]
classifiers = [
    "Development Status :: 4 - Beta",
    "Environment :: Console",
    "Framework :: AWS CDK",
    "Framework :: Ansible",
    "Intended Audience :: End Users/Desktop",
    "License :: OSI Approved :: Apache Software License",
    "Operating System :: MacOS",
    "Operating System :: Microsoft :: Windows",
    "Operating System :: POSIX :: Linux",
    "Programming Language :: Python",
    "Programming Language :: Python :: 3",
]
readme = "README.md"
requires-python = ">=3.9"
dependencies = [
    "click>=8.0.0",
    "rich>=13.0.0",
    "pyyaml>=6.0.0",
    "python-dotenv>=1.0.1",
    "cryptography>=43.0.0",
]
dynamic = ["version"]

[project.scripts]
cldr-assist = "cloudera_assist.cli:main"

[project.urls]
Documentation = "https://github.com/cloudera-labs/cloudera-assist"
"Source Code" = "https://github.com/cloudera-labs/cloudera-assist"

[tool.hatch.version]
path = "src/cloudera_assist/__version__.py"

[tool.hatch.build.targets.sdist]
include = [
    "/src",
    "/tests",
]

[tool.hatch.envs.default]
dependencies = [
  "coverage[toml]",
  "pytest",
  "pytest-cov",
  "pre-commit",
]

[tool.hatch.envs.default.scripts]
test = 'pytest --cov-report=term-missing --cov-config=pyproject.toml --cov=cloudera_assist --cov=tests'

[tool.hatch.envs.docs]
dependencies = [
  "mkdocs"
]

[tool.hatch.envs.docs.scripts]
build = "mkdocs build --clean --strict"
serve = "mkdocs serve --dev-addr localhost:8000"

[tool.hatch.envs.test]
dependencies = [
  "pytest",
  "mock",
]

[[tool.hatch.envs.test.matrix]]
python = ["3.9", "3.10", "3.11", "3.12"]

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"
