"""
This type stub file was generated by pyright.
"""

from pathlib import Path
from pytest_snapshot.plugin import Snapshot
from graph_sitter.core.codebase import Codebase

"""TODO: move into tests/codemod"""
logger = ...
def unflatten_to_dict(original: dict[Path, str]) -> dict[str, dict | str]:
    ...

def gather_modified_files(codebase: Codebase) -> dict[Path, str]:
    """Gather all modified files in the codebase."""
    ...

def convert_diff_to_repo(test_dir: Path, diff_file: Path, codebase: Codebase) -> bool:
    """Turns git diffs into an expected directory for easier debugging"""
    ...

def compare_codebase_diff(codebase: Codebase, expected_dir: Path, diff_path: Path, expected_diff: Path, snapshot: Snapshot) -> None:
    ...

def compare_codebase_with_snapshot(codebase: Codebase, expected_dir: Path, diff_path: Path, snapshot: Snapshot, modified, capture_stats: bool = ..., extensions: set = ...) -> None:
    """Compare the expected codebase to the modified codebase."""
    ...

def compare_expected_actual_diffs(codebase: Codebase, actual_diff: str, expected_diff: str, extensions: set[str] = ...) -> str:
    """Compare the expected codebase to the modified codebase."""
    ...

def capture_single_file_stats(files_dir: Path, files, expected_dir: Path, extensions: set, diff_stats: dict) -> list[str]:
    """Captures stats on files that exist in one codebase but not the other."""
    ...

def capture_modified_file_stats(left_lines: list[str], right_lines: list[str], diff_stats: dict): # -> None:
    """Captures stats on the differences between two complementary files, a file that
    exists in both the expected and modified codebases.
    """
    ...

def analyze_codebase_diff(expected_dir: Path, modified_dir: Path, diff_path: Path, extensions: set[str] = ..., capture_stats: bool = ..., single_diff_file: bool = ...) -> dict | None:
    """Generate and analyze the diff between the expected and modified codebases. If capture_stats is True,
    detailed stats on the diff will be captured and returned.
    """
    ...

