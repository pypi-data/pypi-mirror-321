(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{39208:(e,s,a)=>{Promise.resolve().then(a.bind(a,48266))},76046:(e,s,a)=>{"use strict";var l=a(66658);a.o(l,"usePathname")&&a.d(s,{usePathname:function(){return l.usePathname}}),a.o(l,"useRouter")&&a.d(s,{useRouter:function(){return l.useRouter}}),a.o(l,"useSearchParams")&&a.d(s,{useSearchParams:function(){return l.useSearchParams}})},48266:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>g});var l=a(95155),t=a(12115),r=a(76046),n=a(99373),i=a(71548),c=a(94860),d=a(79005),o=a(66799),u=a(92236),m=a(72568),h=a(18593);let x=e=>{let{location:s}=e,a=(0,c.Tt)(),{user:x}=t.useContext(i.v),g=(0,r.useRouter)(),[j,v]=t.useState(!1),[p,f]=t.useState(null),[y,N]=t.useState(null),b="".concat(a,"/gallery?user_id=").concat(null==x?void 0:x.email),[w,k]=t.useState({status:!0,message:"All good"}),[S,_]=t.useState(null);t.useEffect(()=>{let e=new URLSearchParams(s.search).get("id");e?(E(e),_(e)):E(null)},[]);let E=e=>{let s=e?"".concat(a,"/gallery?gallery_id=").concat(e):b;k(null),v(!0),(0,c.hI)(s,{method:"GET",headers:{"Content-Type":"application/json"}},s=>{s&&s.status?(console.log("gallery",s),e?N(s.data[0]):f(s.data)):n.Ay.error(s.message),v(!1)},e=>{k(e),n.Ay.error(e.message),v(!1)})},P=e=>{let{tags:s}=e,a=s.map((e,s)=>(0,l.jsx)("div",{className:"mr-2 inline-block",children:(0,l.jsx)("span",{className:"text-xs bg-secondary border px-3 p-1 rounded",children:e})},"tag"+s));return(0,l.jsx)("div",{className:"flex flex-wrap",children:a})},A=null==p?void 0:p.map((e,s)=>{var a,t;let r=(null==y?void 0:y.id)===e.id;return(0,l.jsx)("div",{className:"",children:(0,l.jsxs)(o.Zp,{active:r,onClick:()=>{N(e),g.push("/gallery?id=".concat(e.id))},className:"h-full p-2 cursor-pointer",title:(0,c.EJ)((null===(a=e.messages[0])||void 0===a?void 0:a.content)||"",20),children:[(0,l.jsxs)("div",{className:"my-2",children:[" ",(0,c.EJ)((null===(t=e.messages[0])||void 0===t?void 0:t.content)||"",80)]}),(0,l.jsxs)("div",{className:"text-xs",children:[" ",e.messages.length," message",e.messages.length>1&&"s"]}),(0,l.jsxs)("div",{className:"my-2 border-t border-dashed w-full pt-2 inline-flex gap-2 ",children:[(0,l.jsx)(P,{tags:e.tags})," "]}),(0,l.jsx)("div",{className:"text-xs",children:(0,c.fF)(e.created_at)})]})},"galleryrow"+s)});return(0,l.jsxs)("div",{className:" ",children:[(0,l.jsx)("div",{className:"mb-4 text-2xl",children:"Gallery"}),y&&(0,l.jsx)("div",{className:"mb-4   w-full",children:(0,l.jsxs)(d.Ay,{type:"primary",onClick:()=>{N(null),g.push("/gallery?_=".concat(Date.now())),S&&(E(null),_(null))},className:"bg-primary text-white px-2 py-1 rounded",children:[(0,l.jsx)(u.A,{className:"h-4 w-4 inline mr-1"}),"Back to gallery"]})}),!y&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:["View a collection of AG2 agent specifications and sessions"," "]}),(0,l.jsx)("div",{className:"mt-4 grid gap-3 grid-cols-2 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6",children:A})]}),p&&0===p.length&&(0,l.jsxs)("div",{className:"text-sm border rounded text-secondary p-2",children:[(0,l.jsx)(m.A,{className:"h-4 w-4 inline mr-1"}),"No gallery items found. Please create a chat session and publish to gallery."]}),y&&(0,l.jsx)("div",{className:"mt-4 border-t pt-2",children:(0,l.jsx)(e=>{let{item:s}=e;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"mb-4 text-sm",children:["This session contains ",s.messages.length," messages and was created"," ",(0,c.fF)(s.created_at)]}),(0,l.jsx)("div",{className:"",children:(0,l.jsx)(h.A,{initMessages:s.messages,session:s.session,editable:!1})})]})},{item:y})}),j&&(0,l.jsxs)("div",{className:"w-full text-center boder mt-4",children:[(0,l.jsxs)("div",{children:[" ",(0,l.jsx)(o.g0,{})]}),"loading gallery"]})]})};function g(){return(0,l.jsx)(t.Suspense,{fallback:(0,l.jsx)(o.g0,{}),children:(0,l.jsx)(j,{})})}function j(){let e=(0,r.useSearchParams)();return(0,l.jsx)("main",{style:{height:"100%"},className:"h-full",children:(0,l.jsx)(x,{location:{search:e.toString()}})})}},92236:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});var l=a(12115);let t=l.forwardRef(function(e,s){let{title:a,titleId:t,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),a?l.createElement("title",{id:t},a):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))})}},e=>{var s=s=>e(e.s=s);e.O(0,[987,704,440,355,441,517,358],()=>s(39208)),_N_E=e.O()}]);