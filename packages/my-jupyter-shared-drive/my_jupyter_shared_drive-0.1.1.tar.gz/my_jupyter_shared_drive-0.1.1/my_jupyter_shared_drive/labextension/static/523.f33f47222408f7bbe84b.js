"use strict";(self.webpackChunk_jupyter_my_shared_docprovider_extension=self.webpackChunk_jupyter_my_shared_docprovider_extension||[]).push([[523],{523:(e,r,o)=>{o.r(r),o.d(r,{default:()=>m});var t=o(161),a=o(101),n=o(338),i=o(458),s=o(0),d=o(262);const l=new d.Token("@jupyter/collaboration-extension:ICollaborativeDrive");new d.Token("@jupyter/collaboration:IGlobalAwareness");var c,u=o(361);!function(e){e.openPath="filebrowser:open-path"}(c||(c={}));const p={id:"@jupyter/docprovider-extension:drive",description:"The default collaborative drive provider",provides:l,optional:[i.ITranslator],activate:(e,r)=>{const o=(r=null!=r?r:i.nullTranslator).load("my-jupyter-shared-drive"),t=new u.MySharedDrive(e,o);return e.serviceManager.contents.addDrive(t),t}},v={id:"@jupyter/my-shared-docprovider-extension:yfile",description:"Plugin to register the shared model factory for the content type 'file'",autoStart:!0,requires:[l],optional:[],activate:(e,r)=>{r.sharedModelFactory.registerDocumentFactory("file",(()=>new s.YFile))}},h={id:"@jupyter/my-shared-docprovider-extension:ynotebook",description:"Plugin to register the shared model factory for the content type 'notebook'",autoStart:!0,requires:[l],optional:[n.ISettingRegistry],activate:(e,r,o)=>{let t=!0;o&&o.load("@jupyterlab/notebook-extension:tracker").then((e=>{const r=e=>{var r;const o=null==e?void 0:e.get("experimentalEnableDocumentWideUndoRedo").composite;t=null===(r=!o)||void 0===r||r};r(e),e.changed.connect((e=>r(e)))})),r.sharedModelFactory.registerDocumentFactory("notebook",(()=>new s.YNotebook({disableDocumentWideUndoRedo:t})))}},y={id:"my-jupyter-shared-drive:mySharedFileBrowser",description:"The shared file browser factory provider",autoStart:!0,provides:a.IDefaultFileBrowser,requires:[l,a.IFileBrowserFactory],optional:[t.IRouter,t.JupyterFrontEnd.ITreeResolver,t.ILabShell,i.ITranslator],activate:async(e,r,o,t,a,n,s)=>{const{commands:d}=e,l=(null!=s?s:i.nullTranslator).load("jupyterlab");e.serviceManager.contents.addDrive(r);const c=o.createFileBrowser("filebrowser",{auto:!1,restore:!1,driveName:r.name});return c.node.setAttribute("role","region"),c.node.setAttribute("aria-label",l.__("File Browser Section")),w.restoreBrowser(c,d,t,a,n),c}};var w;!function(e){e.restoreBrowser=async function(e,r,o,t,a){const n="jp-mod-restoring";if(e.addClass(n),!o)return await e.model.restore(e.id),await e.model.refresh(),void e.removeClass(n);const i=async()=>{o.routed.disconnect(i);const s=await(null==t?void 0:t.paths);(null==s?void 0:s.file)||(null==s?void 0:s.browser)?(await e.model.restore(e.id,!1),s.file&&await r.execute(c.openPath,{path:s.file,dontShowBrowser:!0}),s.browser&&await r.execute(c.openPath,{path:s.browser,dontShowBrowser:!0})):(await e.model.restore(e.id),await e.model.refresh()),e.removeClass(n),(null==a?void 0:a.isEmpty("main"))&&r.execute("launcher:create")};o.routed.connect(i)}}(w||(w={}));const m=[p,v,h,y]}}]);