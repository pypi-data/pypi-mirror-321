"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[485],{63417:function(e,t,n){var r=n(26068),a=n.n(r),o=n(48305),s=n.n(o),l=n(5268),i=n(26268),c=n(35374),d=n(70109),u=n(23333),p=n(85885),m=n(99013),h=n.n(m),g=n(50959),f=n(11527);t.Z=function(e){var t=e.text,n=e.disabled,r=e.type,o=void 0===r?"text":r,m=e.shape,v=void 0===m?"default":m,x=e.fontSize,k=void 0===x?"14px":x,b=e.style,y=e.placement,j=e.size,w=void 0===j?"middle":j,C=(0,c.useIntl)(),Z=(0,g.useState)(!1),M=s()(Z,2),P=M[0],S=M[1],I=(0,g.useRef)(null),N=(0,g.useRef)(null);return(0,g.useEffect)((function(){return I.current&&(N.current=new(h())(I.current),N.current.on("success",(function(){S(!0),setTimeout((function(){S(!1)}),3e3)})),N.current.on("error",(function(e){d.ZP.success(C.formatMessage({id:"common.copy.fail"})),e.clearSelection()}))),function(){var e;null===(e=N.current)||void 0===e||e.destroy()}}),[I]),(0,f.jsx)(u.Z,{title:C.formatMessage({id:"common.button.copy"}),placement:y,children:(0,f.jsx)(p.ZP,{className:"copy-button",ref:I,type:o,shape:v,size:w,disabled:!!n,"data-clipboard-text":t,icon:P?(0,f.jsx)(l.Z,{style:{color:"var(--ant-color-success)",fontSize:k}}):(0,f.jsx)(i.Z,{style:a()({fontSize:k},b)})})})}},43585:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(50959),a=n(26068),o=n.n(a),s=n(82187),l=n.n(s),i=n(49034),c=n(63417);var d=n(11527),u=function(e){var t=e||{},n=t.code,a=t.copyValue,s=t.lang,u=t.autodetect,p=void 0===u||u,m=t.ignoreIllegals,h=void 0===m||m,g=t.copyable,f=void 0===g||g,v=t.height,x=void 0===v?"auto":v,k=t.style,b=(0,r.useMemo)((function(){var e,t=p&&!s,r=!t&&!i.Z.getLanguage(s),a="";return r||(a="hljs ".concat(s)),r?{value:(e=n,e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")),className:a}:t?{value:i.Z.highlightAuto(n).value,className:a}:{value:i.Z.highlight(n,{language:s,ignoreIllegals:h}).value,className:a}}),[n,s,p,h]);return(0,d.jsxs)("pre",{className:l()("code-pre custome-scrollbar custom-scrollbar-horizontal ",{dark:"dark"===e.theme,light:"light"===e.theme,copyable:f}),style:o()({height:x},k),children:[(0,d.jsx)("code",{style:{minHeight:x},className:l()(b.className,{dark:"dark"===e.theme,light:"light"===e.theme}),dangerouslySetInnerHTML:{__html:b.value}}),f&&(0,d.jsx)(c.Z,{text:a||n,size:"small",style:{color:"#abb2bf"}})]})},p=(0,r.memo)(u),m=function(e){var t=e||{},n=t.code,r=t.copyValue,a=t.lang,o=t.autodetect,s=t.ignoreIllegals,l=t.copyable,i=t.height,c=void 0===i?"auto":i;return(0,d.jsx)(p,{style:e.style,height:c,code:n,copyValue:r,lang:a,theme:"dark",autodetect:o,ignoreIllegals:s,copyable:l})},h=(0,r.memo)(m),g=function(e){var t=e||{},n=t.code,r=t.copyValue,a=t.lang,o=t.autodetect,s=t.ignoreIllegals,l=t.copyable,i=t.style,c=t.height,u=void 0===c?"auto":c;return(0,d.jsx)(p,{style:i,height:u,code:n,copyValue:r,lang:a,theme:"light",autodetect:o,ignoreIllegals:s,copyable:l})},f=(0,r.memo)(g),v=function(e){var t=e.style,n=e.code,r=e.copyValue,a=e.lang,o=void 0===a?"bash":a,s=e.copyable,l=void 0===s||s,i=e.theme,c=void 0===i?"dark":i,u=e.height,p=void 0===u?"auto":u;return(0,d.jsx)("div",{className:"high-light-wrapper hj-wrapper",children:"dark"===c?(0,d.jsx)(h,{lang:o,code:n,copyValue:r,copyable:l,height:p,style:t}):(0,d.jsx)(f,{style:t,lang:o,code:n,copyValue:r,copyable:l,height:p})})},x=r.memo(v)},38634:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(48305),a=n.n(r),o=n(32699),s=n.n(o),l=n(50959),i=n(15558),c=n.n(i),d=n(19019),u=n(35374),p=n(85885),m=n(39139),h=n(59186),g=n(23333),f=n(11527),v=function(e){var t=e.label,n=e.labelList,r=e.seperator,o=e.keyAddon,i=e.valueAddon,c=e.onChange,d=e.onDelete,v=(0,u.useIntl)(),x=(0,l.useState)(!1),k=a()(x,2),b=k[0],y=k[1];return(0,f.jsxs)("div",{className:"label-item",children:[(0,f.jsx)("div",{className:"label-key",children:null!=o?o:(0,f.jsx)(g.Z,{open:b,title:v.formatMessage({id:"resources.table.key.tips"}),children:(0,f.jsx)(m.Z.Input,{checkStatus:"success",label:v.formatMessage({id:"common.input.key"}),value:t.key,onChange:function(e){var n=e.target.value;null==c||c({key:n,value:t.value})},onBlur:function(e){var r=e.target.value;s().filter(n,(function(e){return r&&r===e.key})).length>1?(y(!0),null==c||c({key:"",value:t.value}),setTimeout((function(){y(!1)}),1e3)):y(!1)}})})}),r&&(0,f.jsx)("span",{className:"seprator",children:r}),(0,f.jsx)("div",{className:"label-value",children:null!=i?i:(0,f.jsx)(m.Z.Input,{checkStatus:t.value?"success":"",label:v.formatMessage({id:"common.input.value"}),value:t.value,onChange:function(e){var n=e.target.value;null==c||c({key:t.key,value:n})}})}),(0,f.jsx)(p.ZP,{size:"small",className:"btn",type:"default",shape:"circle",onClick:d,children:(0,f.jsx)(h.Z,{})})]})},x=l.memo(v),k=n(10850),b=function(e){e.labels;var t=e.labelList,n=e.onChange,r=e.onLabelListChange,a=e.label,o=e.btnText,i=e.description,m=(0,u.useIntl)(),h=(0,l.useRef)(null),g=function(e){var t=s().reduce(e,(function(e,t){return t.key&&(e[t.key]=t.value),e}),{});null==n||n(t)};return(0,f.jsx)(k.Z,{label:a,description:i,children:(0,f.jsxs)(f.Fragment,{children:[s().map(t,(function(e,n){return(0,f.jsx)(x,{label:e,seperator:":",labelList:t,onDelete:function(){return function(e){var n=s().cloneDeep(t);n.splice(parseInt(e),1),r(n),g(n)}(n)},onChange:function(e){return function(e,n){var a=s().cloneDeep(t);a[e]=n,r(a),g(a)}(n,e)}},n)})),(0,f.jsx)("div",{className:"flex justify-center",children:(0,f.jsxs)(p.ZP,{ref:h,type:"text",block:!0,style:{marginTop:16,backgroundColor:"var(--ant-color-fill-secondary)"},onClick:function(){var e=[].concat(c()(t),[{key:"",value:""}]);r(e),g(e),setTimeout((function(){var e,t;null===(e=h.current)||void 0===e||null===(t=e.scrollIntoView)||void 0===t||t.call(e,{behavior:"smooth"})}),100)},children:[(0,f.jsx)(d.Z,{className:"font-size-14"})," ",m.formatMessage({id:o||"common.button.addSelector"})]})})]})})},y=l.memo(b),j=function(e){var t=e.labels,n=e.onChange,r=e.label,o=e.btnText,i=e.description,c=(0,l.useState)({}),d=a()(c,2),u=d[0],p=d[1],m=(0,l.useState)([]),h=a()(m,2),g=h[0],v=h[1];(0,l.useEffect)((function(){if(!s().isEqual(t,u)){p(t||{});var e=s().map(s().keys(t),(function(e){return{key:e,value:t[e]}}));v(e)}}),[t]);var x=(0,l.useCallback)((function(e){v(e)}),[v]);return(0,f.jsx)(y,{label:r,btnText:o,description:i,labels:u,labelList:g,onChange:function(e){p(e),null==n||n(e)},onLabelListChange:x})},w=l.memo(j)},10850:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(26068),a=n.n(r),o=n(67825),s=n.n(o),l=n(93692),i=n(50959),c="wrapper___VtpIn",d=n(11527),u=["children","label","description"],p=function(e){var t=e.children,n=e.label,r=e.description,o=s()(e,u);return(0,d.jsxs)("div",{className:c,children:[n&&(0,d.jsx)("span",{className:"label",children:(0,d.jsx)(l.Z,{label:n,description:r})}),i.isValidElement(t)?i.cloneElement(t,a()({},o)):t]})}},57160:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(48305),a=n.n(r),o=n(20369),s=n(4423),l=n(76571),i=n(23333),c=n(85885),d=n(82187),u=n.n(d),p=n(50959),m=n(56377),h=(n(64818),n(63417)),g="status-content-wrapper___Qw4qC",f=n(11527),v=/<a (.*?)>(.*?)<\/a>/g,x=function(e){var t=e.statusValue,n=e.download,r=e.extra,d=e.actions,x=void 0===d?[]:d,k=(e.type,t.text),b=t.status,y=(0,p.useState)({text:"",bg:""}),j=a()(y,2),w=j[0],C=j[1];(0,p.useEffect)((function(){C(o.zK[b])}),[b]);var Z=(0,p.useMemo)((function(){var e;return null===(e=t.message)||void 0===e?void 0:e.replace(v,"")}),[t.message]),M=(0,p.useMemo)((function(){var e,n=null===(e=t.message)||void 0===e?void 0:e.match(v);return n?null==n?void 0:n[0].replace(v,'<a $1 target="_blank">$2</a>'):null}),[t.message]),P=function(){var e=(null==n?void 0:n.percent)||0;return n&&e>0&&e<=100?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("span",{className:"progress",children:[(null==n?void 0:n.percent)||0,"%"]}),(0,f.jsx)("span",{className:"download",style:{width:"".concat(e,"%")}})]}):(0,f.jsx)("span",{children:k})},S=(0,p.useMemo)((function(){return(0,f.jsxs)("div",{className:g,children:[(0,f.jsxs)("div",{className:"copy-button-wrapper",children:[(0,f.jsx)(h.Z,{style:{color:"rgba(255,255,255,.8)"},text:Z||"",size:"small"}),null==x?void 0:x.map((function(e){return(0,f.jsxs)("div",{children:[(0,f.jsx)(l.Z,{style:{marginBlock:5,borderColor:"rgba(255,255,255,.5)"}}),(0,f.jsx)(i.Z,{title:e.label,placement:"right",children:(0,f.jsx)(c.ZP,{size:"small",type:"text",style:{color:"rgba(255,255,255,.8)",padding:1},onClick:e.onClick,children:(0,f.jsx)("span",{className:"font-size-14",children:e.icon})})},e.key)]},e.key)}))]}),(0,f.jsx)(m.Z,{style:{maxHeight:200},autoHide:!1,children:(0,f.jsxs)("div",{style:{width:"max-content",maxWidth:250,paddingInline:10,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:[Z,Z&&(0,f.jsx)("span",{className:"m-r-5"}),r,M&&(0,f.jsx)("span",{dangerouslySetInnerHTML:{__html:M}})]})})]})}),[t]);return(0,f.jsx)("span",{className:u()("status-tag",{download:null==n?void 0:n.percent}),style:{color:null==w?void 0:w.text,border:"1px solid ".concat((null==w?void 0:w.border)||(null==w?void 0:w.text))},children:t.message?(0,f.jsx)(i.Z,{title:S,destroyTooltipOnHide:!0,overlayInnerStyle:{paddingInline:0},children:(0,f.jsxs)("span",{className:"txt err",children:[(0,f.jsx)("span",{className:"m-r-5",children:(0,f.jsx)(s.Z,{})}),P()]})}):(0,f.jsx)("span",{className:"txt",children:P()})})}},38780:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(48305),a=n.n(r),o=n(32699),s=n(92605),l=n(50959);function i(e){var t,n=l.useRef(null),r=l.useRef(null),i=l.useRef(!1),c=(0,s.A)({options:{update:{debounce:0},overflow:{x:"hidden"},scrollbars:{theme:(null==e?void 0:e.theme)||"os-theme-dark",autoHide:"scroll",autoHideDelay:600,clickScroll:"instant"}},defer:!0}),d=a()(c,2),u=d[0],p=d[1];r.current=null==p?void 0:p(),n.current=null===(t=r.current)||void 0===t||null===(t=t.elements())||void 0===t?void 0:t.scrollEventElement;var m=l.useCallback((0,o.throttle)((function(){var e,t,a,o,s;null===(e=n.current)||void 0===e||null===(t=e.scrollTo)||void 0===t||t.call(e,{top:null===(a=n.current)||void 0===a?void 0:a.scrollHeight,behavior:"smooth"}),null===(o=r.current)||void 0===o||null===(s=o.update)||void 0===s||s.call(o)}),100),[(n.current,r.current)]),h=l.useCallback((function(){var e,t,a,o;null===(e=n.current)||void 0===e||null===(t=e.scrollTo)||void 0===t||t.call(e,{top:n.current.scrollHeight,behavior:"auto"}),null===(a=r.current)||void 0===a||null===(o=a.update)||void 0===o||o.call(a)}),[n.current,r.current]),g=l.useCallback((function(e){0===e?h():m()}),[m,h]),f=l.useCallback((function(){var e,t,a,o;null===(e=n.current)||void 0===e||null===(t=e.scrollTo)||void 0===t||t.call(e,{top:0,behavior:"auto"}),null===(a=r.current)||void 0===a||null===(o=a.update)||void 0===o||o.call(a)}),[n.current,r.current]),v=l.useCallback((function(e){var t;r.current||e&&(u(e),i.current=!0,r.current=null==p?void 0:p(),n.current=null===(t=r.current)||void 0===t||null===(t=t.elements())||void 0===t?void 0:t.scrollEventElement)}),[u,p]);return(0,l.useEffect)((function(){return function(){var e,t;null===(e=r.current)||void 0===e||null===(t=e.destroy)||void 0===t||t.call(e)}}),[p]),{initialize:v,instance:r.current,scrollEventElement:n.current,initialized:i.current,generateInstance:function(){var e;r.current=null==p?void 0:p(),n.current=null===(e=r.current)||void 0===e||null===(e=e.elements())||void 0===e?void 0:e.scrollEventElement},updateScrollerPosition:g,updateScrollerPositionToTop:f}}},61555:function(e,t,n){n.d(t,{Sw:function(){return d},Vq:function(){return f},lM:function(){return h},oz:function(){return p}});var r=n(90228),a=n.n(r),o=n(87999),s=n.n(o),l=n(35374),i="/workers",c="/gpu-devices";function d(e){return u.apply(this,arguments)}function u(){return(u=s()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("".concat(i),{methos:"GET",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=s()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("".concat(c),{methos:"GET",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=s()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("".concat(i,"/").concat(t),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return v.apply(this,arguments)}function v(){return(v=s()(a()().mark((function e(t,n){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("".concat(i,"/").concat(t),{method:"PUT",data:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},40410:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ze}});var r=n(48305),a=n.n(r),o=n(67581),s=n(35374),l=n(47946),i=n(50959),c=n(90228),d=n.n(c),u=n(87999),p=n.n(u),m=n(26068),h=n.n(m),g=n(16204),f=n(62722),v=n(23333),x=n(9288),k=n(11527),b=(0,i.memo)((function(e){var t=e.percent,n=(e.steps,e.download),r=e.label,a=(0,i.useMemo)((function(){return n?"var(--ant-color-primary)":t<=50?"var(--color-progress-green)":t<=80?"var(--ant-color-warning)":"var(--ant-color-error)"}),[t]);return(0,k.jsx)(k.Fragment,{children:r?(0,k.jsx)(v.Z,{title:r,children:(0,k.jsx)(x.Z,{percentPosition:{align:"center",type:"inner"},size:[void 0,16],format:function(){return(0,k.jsxs)("span",{style:{color:"#fff"},children:[t,"%"]})},percent:t,strokeColor:a})}):(0,k.jsx)(x.Z,{type:"line",percentPosition:{align:"center",type:"inner"},size:[void 0,16],format:function(){return(0,k.jsxs)("span",{style:{color:"#fff"},children:[t,"%"]})},percent:t,strokeColor:a})})})),y=n(61918),j=n(58258),w=n(56838),C=n(44089),Z=n(54235),M=n(8267),P=n(85885),S=n(32699),I=n.n(S),N=n(61555),$=C.Z.Column,z=function(){var e=(0,s.useIntl)(),t=(0,y.Z)({defaultSortOrder:"descend"}),n=(t.sortOrder,t.setSortOrder),r=(0,i.useState)({dataList:[],loading:!1,total:0}),o=a()(r,2),l=o[0],c=o[1],u=(0,i.useState)({page:1,perPage:10,search:""}),m=a()(u,2),v=m[0],x=m[1],S=function(){var e=p()(d()().mark((function e(){var t,n;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c((function(e){return e.loading=!0,h()({},e)})),e.prev=1,t=h()({},I().pickBy(v,(function(e){return!!e}))),e.next=5,(0,N.oz)(t);case 5:n=e.sent,c({dataList:n.items||[],loading:!1,total:n.pagination.total}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),c({dataList:[],loading:!1,total:l.total});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){S()}),[v]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(f.Z,{marginBottom:10,marginTop:10,left:(0,k.jsxs)(Z.Z,{children:[(0,k.jsx)(M.Z,{placeholder:e.formatMessage({id:"common.filter.name"}),style:{width:300},allowClear:!0,onChange:function(e){x(h()(h()({},v),{},{page:1,search:e.target.value}))}}),(0,k.jsx)(P.ZP,{type:"text",style:{color:"var(--ant-color-text-tertiary)"},onClick:function(e){S()},icon:(0,k.jsx)(w.Z,{})})]})}),(0,k.jsxs)(C.Z,{dataSource:l.dataList,loading:l.loading,rowKey:"id",onChange:function(e,t,r){n(r.order)},pagination:{showSizeChanger:!0,pageSize:v.perPage,current:v.page,total:l.total,hideOnSinglePage:10===v.perPage,onChange:function(e,t){x(h()(h()({},v),{},{page:e,perPage:t||10}))}},children:[(0,k.jsx)($,{title:e.formatMessage({id:"common.table.name"}),dataIndex:"name",render:function(e,t){return(0,k.jsx)(g.Z,{ghost:!0,style:{width:"100%"},children:e})}},"name"),(0,k.jsx)($,{title:e.formatMessage({id:"resources.table.index"}),dataIndex:"index",render:function(e,t){return(0,k.jsx)("span",{children:t.index})}},"index"),(0,k.jsx)($,{title:e.formatMessage({id:"resources.table.workername"}),dataIndex:"worker_name",width:200,render:function(e,t){return(0,k.jsx)("span",{style:{display:"flex",width:"100%"},children:(0,k.jsx)(g.Z,{ghost:!0,maxWidth:340,children:e})})}},"worker_name"),(0,k.jsx)($,{title:e.formatMessage({id:"resources.table.vender"}),dataIndex:"vendor"},"vendor"),(0,k.jsx)($,{title:"".concat(e.formatMessage({id:"resources.table.temperature"})," (Â°C)"),dataIndex:"temperature",render:function(e,t){return(0,k.jsx)("span",{children:e?I().round(e,1):"-"})}},"Temperature"),(0,k.jsx)($,{title:e.formatMessage({id:"resources.table.gpuutilization"}),dataIndex:"gpuUtil",render:function(e,t){var n;return(0,k.jsx)(k.Fragment,{children:t.core?(0,k.jsx)(b,{percent:I().round(null===(n=t.core)||void 0===n?void 0:n.utilization_rate,2)}):"-"})}},"gpuUtil"),(0,k.jsx)($,{title:e.formatMessage({id:"resources.table.vramutilization"}),dataIndex:"VRAM",render:function(t,n){var r,a,o,s,l,i,c;return(0,k.jsx)(b,{percent:null!==(r=n.memory)&&void 0!==r&&r.used?I().round(null===(a=n.memory)||void 0===a?void 0:a.utilization_rate,0):100*I().round((null===(o=n.memory)||void 0===o?void 0:o.allocated)/(null===(s=n.memory)||void 0===s?void 0:s.total),0),label:(0,k.jsxs)("span",{className:"flex-column",children:[(0,k.jsxs)("span",{children:[e.formatMessage({id:"resources.table.total"}),":"," ",(0,j.hy)(null===(l=n.memory)||void 0===l?void 0:l.total,0)]}),(0,k.jsxs)("span",{children:[e.formatMessage({id:"resources.table.used"}),":"," ",(0,j.hy)((null===(i=n.memory)||void 0===i?void 0:i.used)||(null===(c=n.memory)||void 0===c?void 0:c.allocated),0)]})]})})}},"VRAM")]})]})},T=(0,i.memo)(z),E=n(92800),_=n(59597),O=n(57160),W=n(82344),A=n(66182),L=n(48660),R=n(69070),B=n(19019),V=n(4423),H=n(70109),G=n(94299),D=n(82092),U=n.n(D),q=n(20369),F="ready",K="not_ready",J="unreachable",X=U()(U()(U()({},F,"Ready"),K,"Not Ready"),J,"Unreachable"),Q=U()(U()(U()({},F,q.iE.success),K,q.iE.error),J,q.iE.error),Y={mac:{getToken:"cat /var/lib/gpustack/token",registerWorker:function(e){return"curl -sfL https://get.gpustack.ai | sh -s - --server-url ".concat(e.server," --token ").concat(e.token)}},win:{getToken:'Get-Content -Path (Join-Path -Path $env:APPDATA -ChildPath "gpustack\\token") -Raw',registerWorker:function(e){return'Invoke-Expression "& { $((Invoke-WebRequest -Uri "https://get.gpustack.ai" -UseBasicParsing).Content) } --server-url '.concat(e.server," --token ").concat(e.token,'"')}},cuda:{getToken:'Get-Content -Path (Join-Path -Path $env:APPDATA -ChildPath "gpustack\\token") -Raw',registerWorker:function(e){return"docker run -d --name gpustack-worker --restart=unless-stopped --gpus all -p 10150:10150 -p 40000-41024:40000-41024 -p 50000-51024:50000-51024 --ipc=host -v gpustack-worker-data:/var/lib/gpustack gpustack/gpustack:".concat(e.tag," --server-url ").concat(e.server," --token ").concat(e.token," --worker-ip ").concat(e.workerip)}},npu:{getToken:'Get-Content -Path (Join-Path -Path $env:APPDATA -ChildPath "gpustack\\token") -Raw',registerWorker:function(e){return"docker run -d --name gpustack-worker --restart=unless-stopped -e ASCEND_VISIBLE_DEVICES=0 -p 10150:10150 -p 40000-41024:40000-41024 -p 50000-51024:50000-51024 --ipc=host -v gpustack-worker-data:/var/lib/gpustack gpustack/gpustack:".concat(e.tag," --server-url ").concat(e.server," --token ").concat(e.token," --worker-ip ").concat(e.workerip)}},musa:{getToken:'Get-Content -Path (Join-Path -Path $env:APPDATA -ChildPath "gpustack\\token") -Raw',registerWorker:function(e){return"docker run -d --name gpustack-worker --restart=unless-stopped -p 10150:10150 -p 40000-41024:40000-41024 -p 50000-51024:50000-51024 --ipc=host -v gpustack-worker-data:/var/lib/gpustack gpustack/gpustack:".concat(e.tag," --server-url ").concat(e.server," --token ").concat(e.token," --worker-ip ").concat(e.workerip)}},cpu:{getToken:'Get-Content -Path (Join-Path -Path $env:APPDATA -ChildPath "gpustack\\token") -Raw',registerWorker:function(e){return"docker run -d --name gpustack-worker --restart=unless-stopped -p 10150:10150 -p 40000-41024:40000-41024 -p 50000-51024:50000-51024 --ipc=host -v gpustack-worker-data:/var/lib/gpustack gpustack/gpustack:".concat(e.tag," --server-url ").concat(e.server," --token ").concat(e.token," --worker-ip ").concat(e.workerip)}},rocm:{registerWorker:function(e){return"docker run -d --name gpustack-worker --restart=unless-stopped -p 10150:10150 -p 40000-41024:40000-41024 -p 50000-51024:50000-51024 --ipc=host --group-add=video --security-opt seccomp=unconfined --device /dev/kfd --device /dev/dri -v gpustack-worker-data:/var/lib/gpustack gpustack/gpustack:".concat(e.tag," --server-url ").concat(e.server," --token ").concat(e.token," --worker-ip ").concat(e.workerip)}},container:{getToken:"docker exec -it ${gpustack_container_id} cat /var/lib/gpustack/token"}},ee=[{label:"CUDA",value:"cuda"},{label:"AMD",value:"rocm"},{label:"CANN",value:"npu"},{label:"MUSA",value:"musa"},{label:"CPU",value:"cpu"}],te=n(1956),ne=n(95361),re=n(28100),ae=n(43585),oe=n(78093),se=n(81454),le=function(e){var t=(0,s.useIntl)(),n=window.location.origin,r=i.useState("cuda"),o=a()(r,2),l=o[0],c=o[1],d=(0,re.bG)(ne.jr),u=i.useMemo((function(){var e=null==d?void 0:d.version;e&&d.isProduction||(e="main");var t=Y[l];return"cuda"===l?null==t?void 0:t.registerWorker({server:n,tag:e,token:"${mytoken}",workerip:"${myworkerip}"}):null==t?void 0:t.registerWorker({server:n,tag:"".concat(e,"-").concat(l),token:"${mytoken}",workerip:"${myworkerip}"})}),[d,l,e.token,n]);return(0,k.jsxs)("div",{className:"container-install",children:[(0,k.jsxs)("ul",{className:"notes",children:[(0,k.jsxs)("li",{children:[(0,k.jsx)("span",{children:t.formatMessage({id:"resources.worker.container.supported"})}),(0,k.jsx)(oe.Z,{style:{color:"var(--ant-color-warning)"},className:"font-size-14 m-l-5"})]}),(0,k.jsx)("li",{children:t.formatMessage({id:"resources.worker.current.version"},{version:d.version})}),(0,k.jsxs)("li",{children:[(0,k.jsx)("span",{children:t.formatMessage({id:"resources.worker.driver.install"})}),(0,k.jsx)(oe.Z,{style:{color:"var(--ant-color-warning)"},className:"font-size-14 m-l-5"}),(0,k.jsx)(P.ZP,{type:"link",size:"small",href:"https://docs.gpustack.ai/latest/installation/installation-requirements/",target:"_blank",children:t.formatMessage({id:"playground.audio.enablemic.doc"})})]})]}),(0,k.jsxs)("h3",{children:["1. ",t.formatMessage({id:"resources.worker.add.step1"})]}),(0,k.jsx)(ae.Z,{code:Y.container.getToken,theme:"dark"}),(0,k.jsxs)("h3",{children:["2. ",t.formatMessage({id:"resources.worker.add.step2"})," ",(0,k.jsx)("span",{className:"font-size-12",style:{color:"var(--ant-color-text-tertiary)"},dangerouslySetInnerHTML:{__html:"(".concat(t.formatMessage({id:"resources.worker.add.step2.tips"}),")")}})]}),(0,k.jsx)("div",{className:"m-b-20",children:(0,k.jsx)(se.ZP.Group,{block:!0,options:ee,defaultValue:l,value:l,optionType:"button",buttonStyle:"solid",onChange:function(e){return c(e.target.value)},size:"small"})}),"npu"===l&&(0,k.jsx)("div",{className:"m-b-8 text-tertiary",dangerouslySetInnerHTML:{__html:t.formatMessage({id:"resources.worker.cann.tips"})}}),(0,k.jsx)(ae.Z,{theme:"dark",code:u}),(0,k.jsxs)("h3",{className:"m-b-0",children:["3. ",t.formatMessage({id:"resources.worker.add.step3"})]})]})},ie=i.memo(le),ce=function(e){var t=(0,s.useIntl)(),n=window.location.origin;return(0,k.jsxs)("div",{className:"script-install",children:[(0,k.jsxs)("h3",{children:["1. ",t.formatMessage({id:"resources.worker.add.step1"})]}),(0,k.jsx)("h4",{children:t.formatMessage({id:"resources.worker.linuxormaxos"})}),(0,k.jsx)(ae.Z,{code:Y.mac.getToken,theme:"dark"}),(0,k.jsx)("h4",{children:"Windows "}),(0,k.jsx)(ae.Z,{code:Y.win.getToken,theme:"dark"}),(0,k.jsxs)("h3",{children:["2. ",t.formatMessage({id:"resources.worker.add.step2"})," ",(0,k.jsx)("span",{className:"font-size-12",style:{color:"var(--ant-color-text-tertiary)"},dangerouslySetInnerHTML:{__html:"(".concat(t.formatMessage({id:"resources.worker.add.step2.tips"}),")")}})]}),(0,k.jsx)("h4",{children:t.formatMessage({id:"resources.worker.linuxormaxos"})}),(0,k.jsx)(ae.Z,{code:Y.mac.registerWorker({server:n,token:"${mytoken}"}),theme:"dark"}),(0,k.jsx)("h4",{children:"Windows "}),(0,k.jsx)(ae.Z,{theme:"dark",code:Y.win.registerWorker({server:n,token:"${mytoken}"})}),(0,k.jsxs)("h3",{className:"m-b-0",children:["3. ",t.formatMessage({id:"resources.worker.add.step3"})]})]})},de=i.memo(ce),ue=function(e){var t=e||{},n=t.open,r=t.onCancel,o=(0,s.useIntl)(),c=i.useState(""),d=a()(c,2),u=d[0],p=(d[1],i.useState("script")),m=a()(p,2),h=m[0],g=m[1],f=[{key:"script",label:o.formatMessage({id:"resources.worker.script.install"}),children:(0,k.jsx)(de,{token:u})},{key:"container",label:o.formatMessage({id:"resources.worker.container.install"}),children:(0,k.jsx)(ie,{token:u})}];return(0,k.jsx)(te.Z,{title:o.formatMessage({id:"resources.button.create"}),open:n,centered:!0,onCancel:r,destroyOnClose:!0,closeIcon:!0,maskClosable:!1,keyboard:!1,width:600,styles:{body:{height:550}},footer:null,children:(0,k.jsx)(l.Z,{items:f,activeKey:h,type:"card",onChange:function(e){return g(e)}})})},pe=i.memo(ue),me=n(38634),he=n(67768),ge=n(39139),fe=n(68476),ve=n(56377),xe=(n(64818),function(e){var t=e||{},n=t.open,r=t.onCancel,o=t.data,l=t.onOk,i=(0,s.useIntl)(),c=fe.Z.useForm(),d=a()(c,1)[0],u=fe.Z.useWatch("labels",d);return(0,k.jsx)(te.Z,{title:i.formatMessage({id:"resources.button.edit"}),open:n,centered:!0,onCancel:r,destroyOnClose:!0,closeIcon:!0,maskClosable:!1,keyboard:!1,width:600,styles:{content:{padding:"0px"},header:{padding:"var(--ant-modal-content-padding)",paddingBottom:"0"},body:{padding:"0"},footer:{padding:"0 var(--ant-modal-content-padding)"}},footer:(0,k.jsx)(he.Z,{onOk:function(){d.submit()},onCancel:r}),children:(0,k.jsx)(ve.Z,{style:{maxHeight:"550px"},children:(0,k.jsxs)(fe.Z,{name:"deployModel",form:d,onFinish:l,preserve:!1,clearOnDestroy:!0,initialValues:{name:o.name,labels:o.labels},style:{padding:"var(--ant-modal-content-padding)",paddingBlock:0},children:[(0,k.jsx)(fe.Z.Item,{name:"name",children:(0,k.jsx)(ge.Z.Input,{label:i.formatMessage({id:"common.table.name"}),disabled:!0})}),(0,k.jsx)(fe.Z.Item,{name:"labels",rules:[function(){return{validator:function(e,t){return I().keys(t).length>0&&I().some(I().keys(t),(function(e){return!t[e]}))?Promise.reject(i.formatMessage({id:"common.validate.value"},{name:i.formatMessage({id:"resources.form.label"})})):Promise.resolve()}}}],children:(0,k.jsx)(me.Z,{label:i.formatMessage({id:"resources.table.labels"}),labels:u,btnText:"common.button.addLabel",onChange:function(e){d.setFieldValue("labels",e)}})})]})})})}),ke=i.memo(xe),be=C.Z.Column,ye=[{label:"common.button.edit",key:"edit",icon:(0,k.jsx)(L.Z,{})},{label:"common.button.delete",key:"delete",props:{danger:!0},icon:(0,k.jsx)(R.Z,{})}],je=function(){var e,t,n=(0,y.Z)({defaultSortOrder:"descend"}),r=(n.sortOrder,n.setSortOrder),o=(0,i.useRef)(null),l=(0,A.Z)(),c=(0,s.useIntl)(),u=(0,i.useState)(!1),m=a()(u,2),x=m[0],S=m[1],$=(0,i.useState)({dataList:[],loading:!1,total:0}),z=a()($,2),T=z[0],L=z[1],D=(0,i.useState)({page:1,perPage:10,search:""}),U=a()(D,2),q=U[0],F=U[1],K=(0,i.useState)({open:!1,data:{}}),J=a()(K,2),Y=J[0],ee=J[1],te=(0,i.useCallback)(p()(d()().mark((function e(){var t,n;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L((function(e){return e.loading=!0,h()({},e)})),e.prev=1,t=h()({},I().pickBy(q,(function(e){return!!e}))),e.next=5,(0,N.Sw)(t);case 5:n=e.sent,L({dataList:n.items,loading:!1,total:n.pagination.total}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),L({dataList:[],loading:!1,total:T.total});case 13:case"end":return e.stop()}}),e,null,[[1,9]])}))),[q]),ne=(0,i.useCallback)((function(e,t,n){r(n.order)}),[]),re=function(e,t){return t&&e?I().round(e/t*100,0):0},ae=function(){S(!0)},oe=function(e){var t=I().find(e,(function(e){return"/"===e.mount_point}));return t?(0,k.jsxs)("span",{className:"flex-column",children:[(0,k.jsxs)("span",{children:[c.formatMessage({id:"resources.table.total"}),":"," ",(0,j.hy)(null==t?void 0:t.total,0)]}),(0,k.jsxs)("span",{children:[c.formatMessage({id:"resources.table.used"}),":"," ",(0,j.hy)(null==t?void 0:t.used,0)]})]}):0},se=(0,i.useCallback)(function(){var e=p()(d()().mark((function e(t){return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,(0,N.Vq)(Y.data.id,h()(h()({},Y.data),{},{labels:t.labels}));case 4:H.ZP.success(c.formatMessage({id:"common.message.success"})),te(),ee({open:!1,data:{}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[Y,te]),le=(0,i.useCallback)((function(){ee(h()(h()({},Y),{},{open:!1}))}),[]),ie=function(e,t){var n;"edit"!==e?"delete"===e&&(n=t,o.current.show({content:"worker",operation:"common.delete.single.confirm",name:n.name,onOk:function(){return p()(d()().mark((function e(){return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,(0,N.lM)(n.id);case 3:te();case 4:case"end":return e.stop()}}),e)})))()}})):function(e){ee({open:!0,data:h()({},e)})}(t)};return(0,i.useEffect)((function(){te()}),[q]),(0,G.y1)(W.ZP.CREATE.join(","),ae,{enabled:!x}),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(f.Z,{marginBottom:10,marginTop:10,left:(0,k.jsxs)(Z.Z,{children:[(0,k.jsx)(M.Z,{placeholder:c.formatMessage({id:"common.filter.name"}),style:{width:300},allowClear:!0,onChange:function(e){F(h()(h()({},q),{},{page:1,search:e.target.value}))}}),(0,k.jsx)(P.ZP,{type:"text",style:{color:"var(--ant-color-text-tertiary)"},onClick:function(e){te()},icon:(0,k.jsx)(w.Z,{})})]}),right:(0,k.jsxs)(Z.Z,{size:20,children:[(0,k.jsx)(P.ZP,{icon:(0,k.jsx)(B.Z,{}),type:"primary",onClick:ae,children:c.formatMessage({id:"resources.button.create"})}),(0,k.jsx)(P.ZP,{icon:(0,k.jsx)(R.Z,{}),danger:!0,onClick:function(){o.current.show({content:"wokers",operation:"common.delete.confirm",selection:!0,onOk:function(){return p()(d()().mark((function e(){return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,j.D6)(l.selectedRowKeys,N.lM);case 2:l.clearSelections(),te();case 4:case"end":return e.stop()}}),e)})))()}})},disabled:!l.selectedRowKeys.length,children:(0,k.jsxs)("span",{children:[null==c||null===(e=c.formatMessage)||void 0===e?void 0:e.call(c,{id:"common.button.delete"}),l.selectedRowKeys.length>0&&(0,k.jsxs)("span",{children:["(",null===(t=l.selectedRowKeys)||void 0===t?void 0:t.length,")"]})]})})]})}),(0,k.jsxs)(C.Z,{style:{width:"100%"},dataSource:T.dataList,loading:T.loading,rowKey:"id",onChange:ne,rowSelection:l,pagination:{showSizeChanger:!0,pageSize:q.perPage,current:q.page,total:T.total,hideOnSinglePage:10===q.perPage,onChange:function(e,t){F(h()(h()({},q),{},{page:e,perPage:t||10}))}},children:[(0,k.jsx)(be,{title:c.formatMessage({id:"common.table.name"}),dataIndex:"name",width:100,render:function(e,t){return(0,k.jsx)(g.Z,{ghost:!0,maxWidth:240,children:(0,k.jsx)("span",{children:t.name})})}},"name"),(0,k.jsx)(be,{title:c.formatMessage({id:"resources.table.labels"}),dataIndex:"labels",width:200,render:function(e,t){return(0,k.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:6,maxWidth:200},children:I().map(t.labels,(function(e,t){return(0,k.jsxs)(g.Z,{className:"m-r-0",maxWidth:120,style:{paddingInline:8,borderRadius:12},children:[t,":",e]},t)}))})}},"labels"),(0,k.jsx)(be,{title:c.formatMessage({id:"common.table.status"}),dataIndex:"state",render:function(e,t){return(0,k.jsx)(O.Z,{statusValue:{status:Q[t.state],text:X[t.state],message:t.state_message}})}},"state"),(0,k.jsx)(be,{title:"IP",dataIndex:"ip"},"address"),(0,k.jsx)(be,{title:"CPU",dataIndex:"CPU",render:function(e,t){var n;return(0,k.jsx)(b,{percent:I().round(null==t||null===(n=t.status)||void 0===n||null===(n=n.cpu)||void 0===n?void 0:n.utilization_rate,0)})}},"CPU"),(0,k.jsx)(be,{title:c.formatMessage({id:"resources.table.memory"}),dataIndex:"memory",render:function(e,t){var n,r,a,o;return(0,k.jsx)(b,{percent:re(null==t||null===(n=t.status)||void 0===n||null===(n=n.memory)||void 0===n?void 0:n.used,null==t||null===(r=t.status)||void 0===r||null===(r=r.memory)||void 0===r?void 0:r.total),label:(0,k.jsxs)("span",{className:"flex-column",children:[(0,k.jsxs)("span",{children:[c.formatMessage({id:"resources.table.total"}),":"," ",(0,j.hy)(null==t||null===(a=t.status)||void 0===a||null===(a=a.memory)||void 0===a?void 0:a.total,0)]}),(0,k.jsxs)("span",{children:[c.formatMessage({id:"resources.table.used"}),":"," ",(0,j.hy)(null==t||null===(o=t.status)||void 0===o||null===(o=o.memory)||void 0===o?void 0:o.used,0)]})]})})}},"Memory"),(0,k.jsx)(be,{title:"GPU",dataIndex:"GPU",render:function(e,t){var n;return(0,k.jsx)("span",{className:"flex-column flex-gap-2",children:I().map(I().sortBy((null==t||null===(n=t.status)||void 0===n?void 0:n.gpu_devices)||[],["index"]),(function(e,t){var n;return(0,k.jsxs)("span",{className:"flex-center",children:[(0,k.jsxs)("span",{className:"m-r-5",style:{display:"flex",width:25},children:["[",e.index,"]"]}),e.core?(0,k.jsx)(b,{percent:I().round(null===(n=e.core)||void 0===n?void 0:n.utilization_rate,0)},t):"-"]},t)}))})}},"GPU"),(0,k.jsx)(be,{title:c.formatMessage({id:"resources.table.vram"}),dataIndex:"VRAM",render:function(e,t){var n;return(0,k.jsx)("span",{className:"flex-column flex-gap-2",children:I().map(I().sortBy((null==t||null===(n=t.status)||void 0===n?void 0:n.gpu_devices)||[],["index"]),(function(e,t){var n,r,a,o,s,l,i;return(0,k.jsx)("span",{children:(0,k.jsxs)("span",{className:"flex-center",children:[(0,k.jsxs)("span",{className:"m-r-5",style:{display:"flex",width:25},children:["[",e.index,"]"]}),(0,k.jsx)(b,{percent:null!==(n=e.memory)&&void 0!==n&&n.used?I().round(null===(r=e.memory)||void 0===r?void 0:r.utilization_rate,0):I().round((null===(a=e.memory)||void 0===a?void 0:a.allocated)/(null===(o=e.memory)||void 0===o?void 0:o.total)*100,0),label:(0,k.jsxs)("span",{className:"flex-column",children:[(0,k.jsxs)("span",{children:[c.formatMessage({id:"resources.table.total"}),": ",(0,j.hy)(null===(s=e.memory)||void 0===s?void 0:s.total,0)]}),(0,k.jsxs)("span",{children:[c.formatMessage({id:"resources.table.used"}),":"," ",(0,j.hy)((null===(l=e.memory)||void 0===l?void 0:l.used)||(null===(i=e.memory)||void 0===i?void 0:i.allocated),0)]})]})},t),e.memory.is_unified_memory&&(0,k.jsx)(v.Z,{title:c.formatMessage({id:"resources.table.unified"}),children:(0,k.jsx)(V.Z,{className:"m-l-5"})})]})},t)}))})}},"VRAM"),(0,k.jsx)(be,{title:c.formatMessage({id:"resources.table.disk"}),dataIndex:"storage",render:function(e,t){var n,r,a;return(0,k.jsx)(b,{percent:(r=null===(n=t.status)||void 0===n?void 0:n.filesystem,a=I().find(r,(function(e){return"/"===e.mount_point})),a?re(a.used,a.total):0),label:oe(t.status.filesystem)})}},"storage"),(0,k.jsx)(be,{title:c.formatMessage({id:"common.table.operation"}),render:function(e,t){return(0,k.jsx)(_.Z,{items:ye,onSelect:function(e){return ie(e,t)}})}},"operation")]}),(0,k.jsx)(E.Z,{ref:o}),(0,k.jsx)(pe,{open:x,onCancel:function(){return S(!1)}}),(0,k.jsx)(ke,{open:Y.open,onOk:se,onCancel:le,data:{name:Y.data.name,labels:Y.data.labels}})]})},we=(0,i.memo)(je),Ce=[{key:"workers",label:"Workers",children:(0,k.jsx)(we,{})},{key:"gpus",label:"GPUs",children:(0,k.jsx)(T,{})}],Ze=function(){var e=(0,i.useState)("workers"),t=a()(e,2),n=t[0],r=t[1],c=(0,s.useIntl)(),d=(0,i.useCallback)((function(e){r(e)}),[]);return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(o._z,{ghost:!0,header:{title:c.formatMessage({id:"resources.title"})},extra:[],children:(0,k.jsx)("div",{style:{marginTop:30},children:(0,k.jsx)(l.Z,{type:"card",defaultActiveKey:"workers",items:Ce,accessKey:n,onChange:d})})})})}},64818:function(){},76571:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(50959),a=n(82187),o=n.n(a),s=n(29797),l=n(1947),i=n(98231),c=n(41380),d=n(38456);const u=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:a,textPaddingInline:o,orientationMargin:s,verticalMarginInline:c}=e;return{[t]:Object.assign(Object.assign({},(0,i.Wf)(e)),{borderBlockStart:`${(0,l.bf)(a)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:c,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,l.bf)(a)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,l.bf)(e.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,l.bf)(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,l.bf)(a)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-left`]:{"&::before":{width:`calc(${s} * 100%)`},"&::after":{width:`calc(100% - ${s} * 100%)`}},[`&-horizontal${t}-with-text-right`]:{"&::before":{width:`calc(100% - ${s} * 100%)`},"&::after":{width:`calc(${s} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:o},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${(0,l.bf)(a)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:a,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:r,borderStyle:"dotted",borderWidth:`${(0,l.bf)(a)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:a,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-left${t}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${t}-with-text-right${t}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:n}}})}};var p=(0,c.I$)("Divider",(e=>{const t=(0,d.IX)(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[u(t)]}),(e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS})),{unitless:{orientationMargin:!0}}),m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var h=e=>{const{getPrefixCls:t,direction:n,divider:a}=r.useContext(s.E_),{prefixCls:l,type:i="horizontal",orientation:c="center",orientationMargin:d,className:u,rootClassName:h,children:g,dashed:f,variant:v="solid",plain:x,style:k}=e,b=m(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),y=t("divider",l),[j,w,C]=p(y),Z=!!g,M="left"===c&&null!=d,P="right"===c&&null!=d,S=o()(y,null==a?void 0:a.className,w,C,`${y}-${i}`,{[`${y}-with-text`]:Z,[`${y}-with-text-${c}`]:Z,[`${y}-dashed`]:!!f,[`${y}-${v}`]:"solid"!==v,[`${y}-plain`]:!!x,[`${y}-rtl`]:"rtl"===n,[`${y}-no-default-orientation-margin-left`]:M,[`${y}-no-default-orientation-margin-right`]:P},u,h),I=r.useMemo((()=>"number"==typeof d?d:/^\d+$/.test(d)?Number(d):d),[d]),N=Object.assign(Object.assign({},M&&{marginLeft:I}),P&&{marginRight:I});return j(r.createElement("div",Object.assign({className:S,style:Object.assign(Object.assign({},null==a?void 0:a.style),k)},b,{role:"separator"}),g&&"vertical"!==i&&r.createElement("span",{className:`${y}-inner-text`,style:N},g)))}}}]);