

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Step-by-step examples: Part 4 &mdash; SnapPy 3.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/snappy_sphinx_rtd_theme.css?v=1b8ec2a8" />

  
    <link rel="shortcut icon" href="_static/SnapPy.ico"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=828ea960"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Classes" href="ptolemy_classes.html" />
    <link rel="prev" title="Step-by-step examples: Part 3" href="ptolemy_examples3.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            SnapPy
              <img src="_static/SnapPy-horizontal-128.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installing SnapPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="screenshots.html">Screenshots: SnapPy in action</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="snappy.html">The snappy module and its classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="plink.html">Using SnapPy’s link editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="spherogram.html">Links: planar diagrams and invariants</a></li>
<li class="toctree-l1"><a class="reference internal" href="snap.html">Number theory of hyperbolic 3-manifolds</a></li>
<li class="toctree-l1"><a class="reference internal" href="verify.html">Verified computations</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="other.html">Other components</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="other.html#ptolemy-module">Ptolemy module</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="ptolemy.html">The ptolemy module</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ptolemy.html#what-is-the-ptolemy-module">What is the ptolemy module?</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="ptolemy.html#documentation">Documentation</a><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="ptolemy_prelim.html">Mathematical preliminaries</a></li>
<li class="toctree-l5"><a class="reference internal" href="ptolemy_examples1.html">Step-by-step examples: Part 1</a></li>
<li class="toctree-l5"><a class="reference internal" href="ptolemy_examples2.html">Step-by-step examples: Part 2</a></li>
<li class="toctree-l5"><a class="reference internal" href="ptolemy_examples3.html">Step-by-step examples: Part 3</a></li>
<li class="toctree-l5 current"><a class="current reference internal" href="#">Step-by-step examples: Part 4</a></li>
<li class="toctree-l5"><a class="reference internal" href="ptolemy_classes.html">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="other.html#twister">Twister</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="news.html">News</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="bugs.html">Reporting bugs and other problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="todo.html">To Do List</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development Basics</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SnapPy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="other.html">Other components</a></li>
          <li class="breadcrumb-item"><a href="ptolemy.html">The ptolemy module</a></li>
      <li class="breadcrumb-item active">Step-by-step examples: Part 4</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="step-by-step-examples-part-4">
<h1>Step-by-step examples: Part 4<a class="headerlink" href="#step-by-step-examples-part-4" title="Link to this heading"></a></h1>
<p><strong>Advanced topics. Still under construction.</strong></p>
<section id="the-structure-of-an-exact-solution">
<span id="ptolemy-example-structure-of-solution"></span><h2>The structure of an exact solution<a class="headerlink" href="#the-structure-of-an-exact-solution" title="Link to this heading"></a></h2>
<p>A solution to the Ptolemy variety (here <code class="docutils literal notranslate"><span class="pre">sol</span></code>) is an object of type <code class="docutils literal notranslate"><span class="pre">PtolemyCoordinates</span></code> which is a subclass of a python dictionary. It assigns a value to each Ptolemy coordinate c<sub>…</sub> (the s<sub>…</sub> are related to the obstruction class which is trivial here). We can get the value assigned to a particular Ptolemy coordinate as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sol</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="s2">&quot;m003&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ptolemy_variety</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">retrieve_solutions</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sol</span><span class="p">[</span><span class="s1">&#39;c_0101_1&#39;</span><span class="p">]</span>
<span class="go">Mod(-x, x^2 - x - 1)</span>
</pre></div>
</div>
<p>This is a pari object of type <cite>POLMOD</cite>. It means that the solution is in the number field with defining polynomial <em>x</em><sup>2</sup>- <em>x</em> - 1 and that it is equal to - <em>x</em> where <em>x</em> is a root in the defining polynomial.</p>
<p>We can get to the parts of a pari <cite>POLMOD</cite> object by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sol</span><span class="p">[</span><span class="s1">&#39;c_0101_1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span>
<span class="go">-x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sol</span><span class="p">[</span><span class="s1">&#39;c_0101_1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mod</span><span class="p">()</span>
<span class="go">x^2 - x - 1</span>
</pre></div>
</div>
<p>These objects also support the field operations, here we are computing a cross ratio:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">sol</span><span class="p">[</span><span class="s1">&#39;c_0101_0&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">sol</span><span class="p">[</span><span class="s1">&#39;c_1010_0&#39;</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="n">sol</span><span class="p">[</span><span class="s1">&#39;c_1001_0&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">sol</span><span class="p">[</span><span class="s1">&#39;c_0110_0&#39;</span><span class="p">])</span>
<span class="go">Mod(x, x^2 - x - 1)</span>
</pre></div>
</div>
<p><strong>Remark:</strong> We would prefer to represent these using types that are better suited when using sage such as NumberField and NumberFieldElement. In the future, we might jettison support of the ptolemy module outside of sage and use sage’s native types.</p>
</section>
<section id="rational-univariate-representation">
<h2>Rational Univariate Representation<a class="headerlink" href="#rational-univariate-representation" title="Link to this heading"></a></h2>
<p>We have some limited support for the <cite>Rational Univariate Representation</cite>, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sols</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="s2">&quot;m069&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ptolemy_variety</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">retrieve_solutions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sols</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="go">PtolemyCoordinates(</span>
<span class="go">    { &#39;c_0201_0&#39;: ( Mod(-426088934700737884313191344*x^24 + 4110489425474123899213651272*x^23 ...</span>
<span class="go">                             - 67064980598091504185767190,</span>
<span class="go">                        x^25 ... - 196124*x^4 + 14010*x^3 - 1560*x^2 + 72*x - 1)</span>
<span class="go">              ) / ( Mod(875895332415105303646551573*x^24 - 8450034810535061601312104296*x^23 ...</span>
<span class="go">                             + 137871639973525691285247446,</span>
<span class="go">                        x^25 ... - 196124*x^4 + 14010*x^3 - 1560*x^2 + 72*x - 1) ),</span>
<span class="go">      ...</span>
<span class="go">    },</span>
<span class="go">    is_numerical = False, ...)</span>
</pre></div>
</div>
<p>This means that <code class="docutils literal notranslate"><span class="pre">c_0201_0</span></code> is assigned the fraction of those two <code class="docutils literal notranslate"><span class="pre">POLDMOD</span></code> objects.</p>
<p><strong>Remark:</strong> This is still under development.</p>
</section>
<section id="todo">
<h2>TODO<a class="headerlink" href="#todo" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Give an overview of the classes and the methods.</p></li>
<li><p>Explain how the magma file are generated. Say that magma computes the RadicalDecomposition. Ptolemy module can process the lexicographic Groebner basis of a prime ideal.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ptolemy_examples3.html" class="btn btn-neutral float-left" title="Step-by-step examples: Part 3" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ptolemy_classes.html" class="btn btn-neutral float-right" title="Classes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2009-2025, by Marc Culler, Nathan Dunfield, Matthias Goerner, Jeffrey Weeks and others.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>